{"version":3,"sources":["webpack:///webpack/bootstrap 0091c122b16ade172588","webpack:///./server/index.js","webpack:///external \"source-map-support\"","webpack:///external \"babel-polyfill\"","webpack:///external \"http\"","webpack:///external \"mongodb\"","webpack:///external \"socket.io\"","webpack:///./server/server.js","webpack:///external \"express\"","webpack:///external \"body-parser\"","webpack:///./server/issue.js","webpack:///./server/device.js","webpack:///./server/renderedPageRouter.jsx","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-router\"","webpack:///./server/template.js","webpack:///./src/Routes.jsx","webpack:///./src/App.jsx","webpack:///external \"react-bootstrap\"","webpack:///external \"react-router-bootstrap\"","webpack:///external \"react-icons/lib/md/more-vert\"","webpack:///./src/IssueList.jsx","webpack:///external \"isomorphic-fetch\"","webpack:///external \"react-icons/lib/fa/trash\"","webpack:///./src/IssueFilter.jsx","webpack:///./src/Toast.jsx","webpack:///./src/IssueEdit.jsx","webpack:///./src/NumInput.jsx","webpack:///./src/DateInput.jsx","webpack:///./src/DeviceList.jsx","webpack:///./src/DeviceFilter.jsx","webpack:///./src/DeviceEdit.jsx","webpack:///./src/ControllersSetup.jsx","webpack:///external \"react-grid-layout\"","webpack:///external \"lodash.map\"","webpack:///external \"lodash.result\"","webpack:///external \"lodash.range\"","webpack:///external \"lodash.random\"","webpack:///./src/NewControllers.jsx","webpack:///external \"react-dom\"","webpack:///external \"lodash\"","webpack:///external \"react-icons/lib/fa/lock\"","webpack:///external \"react-icons/lib/fa/unlock\"","webpack:///external \"react-icons/lib/md/file-upload\"","webpack:///external \"react-icons/lib/md/file-download\"","webpack:///external \"react-icons/lib/md/edit\"","webpack:///external \"react-icons/lib/md/close\"","webpack:///./src/AddController.jsx","webpack:///./src/DeviceMenu.jsx","webpack:///./src/Diagnostics.jsx","webpack:///external \"socket.io-react\"","webpack:///external \"socket.io-client\"","webpack:///./src/Help.jsx","webpack:///./src/ContextWrapper.jsx","webpack:///(webpack)/hot/poll.js","webpack:///(webpack)/hot/log-apply-result.js"],"names":["install","appModule","require","db","server","websocket","connect","then","connection","createServer","setDb","on","app","listen","console","log","socket","id","message","catch","error","module","hot","accept","removeListener","use","static","json","get","req","res","filter","query","status","effort_lte","effort_gte","effort","$lte","parseInt","$gte","collection","find","toArray","issues","metadata","total_count","length","_metadata","records","devices","post","newIssue","body","created","Date","err","validateIssue","insertOne","cleanupIssue","result","_id","insertedId","limit","next","savedIssue","newDevice","validateDevice","cleanupDevice","savedDevice","issueId","params","issue","deviceId","device","put","updateOne","convertIssue","convertDevice","delete","deleteOne","deleteResult","n","newDb","validIssueStatus","New","Open","Assigned","Fixed","Verified","Closed","issueFieldType","owner","completionDate","title","cleanedUpIssue","Object","keys","forEach","field","errors","push","join","validDeviceStatus","device_id","name","core","purpose","protocol","port","specification","control_types","who","notes","example_command","manual_link","deviceFieldType","cleanedUpDevice","renderedPageRouter","routes","location","url","redirectLocation","renderProps","send","redirect","pathname","search","componentsWithData","components","c","dataFetcher","dataFetchers","map","urlBase","Promise","all","dataList","initialState","namedData","assign","html","template","JSON","stringify","NoMatch","Header","App","props","children","propTypes","PropTypes","object","isRequired","IssueRow","onDeleteClick","deleteIssue","substr","toDateString","func","IssueTable","issueRows","array","IssueList","Component","fetch","response","ok","reject","data","constructor","context","state","toastVisible","toastMessage","toastType","setFilter","bind","showError","dismissToast","componentDidMount","loadData","componentDidUpdate","prevProps","oldQuery","newQuery","router","setState","method","render","contextTypes","IssueFilter","initFilter","changed","onChangeStatus","onChangeEffortGte","onChangeEffortLte","applyFilter","resetFilter","clearFilter","componentWillReceiveProps","newProps","e","target","value","effortString","match","newFilter","Toast","showing","clearTimeout","dismissTimer","setTimeout","onDismiss","componentWillUnmount","position","top","left","right","textAlign","display","width","bsStyle","bool","string","any","defaultProps","IssueEdit","invalidFields","showingValidation","dismissValidation","showValidation","showSuccess","onChange","onValidityChange","onSubmit","event","convertedValue","undefined","valid","preventDefault","headers","updatedIssue","validationMessage","NumInput","format","onBlur","unformat","num","toString","str","val","isNaN","number","DateInput","editFormat","focused","onFocus","displayFormat","date","toISOString","getTime","childProps","DeviceRow","device_number","DeviceTable","deviceRows","DeviceList","DeviceFilter","DeviceEdit","updatedDevice","ResponsiveReactGridLayout","generateLayout","item","i","y","Math","ceil","random","x","floor","w","h","sliderValue","ControllerSetup","currentBreakpoint","compactType","mounted","layouts","lg","initialLayout","onNewLayout","handleSliderChange","generateDOM","styles","background","l","onBreakPointChange","breakpoint","currentBreakPoint","onLayoutChange","layout","cols","onBreakpointChange","className","isResizable","rowHeight","md","sm","xs","xxs","lockIcon","onDeviceSelect","NewControllers","items","key","list","type","add","buttonCounter","sliderCounter","xyCounter","lock","onAddButton","onAddSlider","onAddXY","onEditItem","handleOnLock","handleOnDownload","handleOnUpload","createElement","el","removeStyle","cursor","editStyle","bottom","lockStyle","gridStyle","typeCode","onRemoveItem","concat","Infinity","AddController","showModal","hideModal","submit","form","document","forms","issueAdd","DeviceMenu","Diagnostics","text","mesg","off","page","sendSocketData","emit","Help","ContextWrapper","getChildContext","childContextTypes"],"mappings":";AAAA,oDAA4C;AAC5C;AACA;AACA;;AAEA,kDAA0C;AAC1C;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,mCAA2B;AAC3B;AACA,YAAI;AACJ;AACA,WAAG;AACH;AACA;;AAEA;AACA,sDAA8C;AAC9C;AACA,qCAA6B;;AAE7B,+CAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAS;AACT;AACA;AACA;AACA;AACA,eAAO;AACP,cAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAK;AACL,YAAI;AACJ;AACA;AACA;AACA;;AAEA,8CAAsC;AACtC;AACA;AACA,qCAA6B;AAC7B,qCAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAAoB,gBAAgB;AACpC;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,4BAAoB,gBAAgB;AACpC;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yBAAiB,8BAA8B;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAAkB,qBAAqB;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;;AAEA,4DAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,0BAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,0BAAkB,4BAA4B;AAC9C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,0BAAkB,4BAA4B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAAmB,uCAAuC;AAC1D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;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","file":"server.bundle.js","sourcesContent":[" \tfunction hotDownloadUpdateChunk(chunkId) { // eslint-disable-line no-unused-vars\r\n \t\tvar chunk = require(\"./\" + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\");\r\n \t\thotAddUpdateChunk(chunk.id, chunk.modules);\r\n \t}\r\n \t\r\n \tfunction hotDownloadManifest(callback) { // eslint-disable-line no-unused-vars\r\n \t\ttry {\r\n \t\t\tvar update = require(\"./\" + \"\" + hotCurrentHash + \".hot-update.json\");\r\n \t\t} catch(e) {\r\n \t\t\treturn callback();\r\n \t\t}\r\n \t\tcallback(null, update);\r\n \t}\r\n\n \t\r\n \t\r\n \t// Copied from https://github.com/facebook/react/blob/bef45b0/src/shared/utils/canDefineProperty.js\r\n \tvar canDefineProperty = false;\r\n \ttry {\r\n \t\tObject.defineProperty({}, \"x\", {\r\n \t\t\tget: function() {}\r\n \t\t});\r\n \t\tcanDefineProperty = true;\r\n \t} catch(x) {\r\n \t\t// IE will fail on defineProperty\r\n \t}\r\n \t\r\n \tvar hotApplyOnUpdate = true;\r\n \tvar hotCurrentHash = \"0091c122b16ade172588\"; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentModuleData = {};\r\n \tvar hotCurrentParents = []; // eslint-disable-line no-unused-vars\r\n \t\r\n \tfunction hotCreateRequire(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar me = installedModules[moduleId];\r\n \t\tif(!me) return __webpack_require__;\r\n \t\tvar fn = function(request) {\r\n \t\t\tif(me.hot.active) {\r\n \t\t\t\tif(installedModules[request]) {\r\n \t\t\t\t\tif(installedModules[request].parents.indexOf(moduleId) < 0)\r\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\r\n \t\t\t\t\tif(me.children.indexOf(request) < 0)\r\n \t\t\t\t\t\tme.children.push(request);\r\n \t\t\t\t} else hotCurrentParents = [moduleId];\r\n \t\t\t} else {\r\n \t\t\t\tconsole.warn(\"[HMR] unexpected require(\" + request + \") from disposed module \" + moduleId);\r\n \t\t\t\thotCurrentParents = [];\r\n \t\t\t}\r\n \t\t\treturn __webpack_require__(request);\r\n \t\t};\r\n \t\tfor(var name in __webpack_require__) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(__webpack_require__, name)) {\r\n \t\t\t\tif(canDefineProperty) {\r\n \t\t\t\t\tObject.defineProperty(fn, name, (function(name) {\r\n \t\t\t\t\t\treturn {\r\n \t\t\t\t\t\t\tconfigurable: true,\r\n \t\t\t\t\t\t\tenumerable: true,\r\n \t\t\t\t\t\t\tget: function() {\r\n \t\t\t\t\t\t\t\treturn __webpack_require__[name];\r\n \t\t\t\t\t\t\t},\r\n \t\t\t\t\t\t\tset: function(value) {\r\n \t\t\t\t\t\t\t\t__webpack_require__[name] = value;\r\n \t\t\t\t\t\t\t}\r\n \t\t\t\t\t\t};\r\n \t\t\t\t\t}(name)));\r\n \t\t\t\t} else {\r\n \t\t\t\t\tfn[name] = __webpack_require__[name];\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\tfunction ensure(chunkId, callback) {\r\n \t\t\tif(hotStatus === \"ready\")\r\n \t\t\t\thotSetStatus(\"prepare\");\r\n \t\t\thotChunksLoading++;\r\n \t\t\t__webpack_require__.e(chunkId, function() {\r\n \t\t\t\ttry {\r\n \t\t\t\t\tcallback.call(null, fn);\r\n \t\t\t\t} finally {\r\n \t\t\t\t\tfinishChunkLoading();\r\n \t\t\t\t}\r\n \t\r\n \t\t\t\tfunction finishChunkLoading() {\r\n \t\t\t\t\thotChunksLoading--;\r\n \t\t\t\t\tif(hotStatus === \"prepare\") {\r\n \t\t\t\t\t\tif(!hotWaitingFilesMap[chunkId]) {\r\n \t\t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\t\t\t\thotUpdateDownloaded();\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t});\r\n \t\t}\r\n \t\tif(canDefineProperty) {\r\n \t\t\tObject.defineProperty(fn, \"e\", {\r\n \t\t\t\tenumerable: true,\r\n \t\t\t\tvalue: ensure\r\n \t\t\t});\r\n \t\t} else {\r\n \t\t\tfn.e = ensure;\r\n \t\t}\r\n \t\treturn fn;\r\n \t}\r\n \t\r\n \tfunction hotCreateModule(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar hot = {\r\n \t\t\t// private stuff\r\n \t\t\t_acceptedDependencies: {},\r\n \t\t\t_declinedDependencies: {},\r\n \t\t\t_selfAccepted: false,\r\n \t\t\t_selfDeclined: false,\r\n \t\t\t_disposeHandlers: [],\r\n \t\r\n \t\t\t// Module API\r\n \t\t\tactive: true,\r\n \t\t\taccept: function(dep, callback) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfAccepted = true;\r\n \t\t\t\telse if(typeof dep === \"function\")\r\n \t\t\t\t\thot._selfAccepted = dep;\r\n \t\t\t\telse if(typeof dep === \"object\")\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback;\r\n \t\t\t\telse\r\n \t\t\t\t\thot._acceptedDependencies[dep] = callback;\r\n \t\t\t},\r\n \t\t\tdecline: function(dep) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfDeclined = true;\r\n \t\t\t\telse if(typeof dep === \"number\")\r\n \t\t\t\t\thot._declinedDependencies[dep] = true;\r\n \t\t\t\telse\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\r\n \t\t\t},\r\n \t\t\tdispose: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\taddDisposeHandler: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\tremoveDisposeHandler: function(callback) {\r\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\r\n \t\t\t\tif(idx >= 0) hot._disposeHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t// Management API\r\n \t\t\tcheck: hotCheck,\r\n \t\t\tapply: hotApply,\r\n \t\t\tstatus: function(l) {\r\n \t\t\t\tif(!l) return hotStatus;\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\taddStatusHandler: function(l) {\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\tremoveStatusHandler: function(l) {\r\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\r\n \t\t\t\tif(idx >= 0) hotStatusHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t//inherit from previous dispose call\r\n \t\t\tdata: hotCurrentModuleData[moduleId]\r\n \t\t};\r\n \t\treturn hot;\r\n \t}\r\n \t\r\n \tvar hotStatusHandlers = [];\r\n \tvar hotStatus = \"idle\";\r\n \t\r\n \tfunction hotSetStatus(newStatus) {\r\n \t\thotStatus = newStatus;\r\n \t\tfor(var i = 0; i < hotStatusHandlers.length; i++)\r\n \t\t\thotStatusHandlers[i].call(null, newStatus);\r\n \t}\r\n \t\r\n \t// while downloading\r\n \tvar hotWaitingFiles = 0;\r\n \tvar hotChunksLoading = 0;\r\n \tvar hotWaitingFilesMap = {};\r\n \tvar hotRequestedFilesMap = {};\r\n \tvar hotAvailibleFilesMap = {};\r\n \tvar hotCallback;\r\n \t\r\n \t// The update info\r\n \tvar hotUpdate, hotUpdateNewHash;\r\n \t\r\n \tfunction toModuleId(id) {\r\n \t\tvar isNumber = (+id) + \"\" === id;\r\n \t\treturn isNumber ? +id : id;\r\n \t}\r\n \t\r\n \tfunction hotCheck(apply, callback) {\r\n \t\tif(hotStatus !== \"idle\") throw new Error(\"check() is only allowed in idle status\");\r\n \t\tif(typeof apply === \"function\") {\r\n \t\t\thotApplyOnUpdate = false;\r\n \t\t\tcallback = apply;\r\n \t\t} else {\r\n \t\t\thotApplyOnUpdate = apply;\r\n \t\t\tcallback = callback || function(err) {\r\n \t\t\t\tif(err) throw err;\r\n \t\t\t};\r\n \t\t}\r\n \t\thotSetStatus(\"check\");\r\n \t\thotDownloadManifest(function(err, update) {\r\n \t\t\tif(err) return callback(err);\r\n \t\t\tif(!update) {\r\n \t\t\t\thotSetStatus(\"idle\");\r\n \t\t\t\tcallback(null, null);\r\n \t\t\t\treturn;\r\n \t\t\t}\r\n \t\r\n \t\t\thotRequestedFilesMap = {};\r\n \t\t\thotAvailibleFilesMap = {};\r\n \t\t\thotWaitingFilesMap = {};\r\n \t\t\tfor(var i = 0; i < update.c.length; i++)\r\n \t\t\t\thotAvailibleFilesMap[update.c[i]] = true;\r\n \t\t\thotUpdateNewHash = update.h;\r\n \t\r\n \t\t\thotSetStatus(\"prepare\");\r\n \t\t\thotCallback = callback;\r\n \t\t\thotUpdate = {};\r\n \t\t\tvar chunkId = 0;\r\n \t\t\t{ // eslint-disable-line no-lone-blocks\r\n \t\t\t\t/*globals chunkId */\r\n \t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t}\r\n \t\t\tif(hotStatus === \"prepare\" && hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\thotUpdateDownloaded();\r\n \t\t\t}\r\n \t\t});\r\n \t}\r\n \t\r\n \tfunction hotAddUpdateChunk(chunkId, moreModules) { // eslint-disable-line no-unused-vars\r\n \t\tif(!hotAvailibleFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\r\n \t\t\treturn;\r\n \t\thotRequestedFilesMap[chunkId] = false;\r\n \t\tfor(var moduleId in moreModules) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\r\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\tif(--hotWaitingFiles === 0 && hotChunksLoading === 0) {\r\n \t\t\thotUpdateDownloaded();\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotEnsureUpdateChunk(chunkId) {\r\n \t\tif(!hotAvailibleFilesMap[chunkId]) {\r\n \t\t\thotWaitingFilesMap[chunkId] = true;\r\n \t\t} else {\r\n \t\t\thotRequestedFilesMap[chunkId] = true;\r\n \t\t\thotWaitingFiles++;\r\n \t\t\thotDownloadUpdateChunk(chunkId);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotUpdateDownloaded() {\r\n \t\thotSetStatus(\"ready\");\r\n \t\tvar callback = hotCallback;\r\n \t\thotCallback = null;\r\n \t\tif(!callback) return;\r\n \t\tif(hotApplyOnUpdate) {\r\n \t\t\thotApply(hotApplyOnUpdate, callback);\r\n \t\t} else {\r\n \t\t\tvar outdatedModules = [];\r\n \t\t\tfor(var id in hotUpdate) {\r\n \t\t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t\tcallback(null, outdatedModules);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotApply(options, callback) {\r\n \t\tif(hotStatus !== \"ready\") throw new Error(\"apply() is only allowed in ready status\");\r\n \t\tif(typeof options === \"function\") {\r\n \t\t\tcallback = options;\r\n \t\t\toptions = {};\r\n \t\t} else if(options && typeof options === \"object\") {\r\n \t\t\tcallback = callback || function(err) {\r\n \t\t\t\tif(err) throw err;\r\n \t\t\t};\r\n \t\t} else {\r\n \t\t\toptions = {};\r\n \t\t\tcallback = callback || function(err) {\r\n \t\t\t\tif(err) throw err;\r\n \t\t\t};\r\n \t\t}\r\n \t\r\n \t\tfunction getAffectedStuff(module) {\r\n \t\t\tvar outdatedModules = [module];\r\n \t\t\tvar outdatedDependencies = {};\r\n \t\r\n \t\t\tvar queue = outdatedModules.slice();\r\n \t\t\twhile(queue.length > 0) {\r\n \t\t\t\tvar moduleId = queue.pop();\r\n \t\t\t\tvar module = installedModules[moduleId];\r\n \t\t\t\tif(!module || module.hot._selfAccepted)\r\n \t\t\t\t\tcontinue;\r\n \t\t\t\tif(module.hot._selfDeclined) {\r\n \t\t\t\t\treturn new Error(\"Aborted because of self decline: \" + moduleId);\r\n \t\t\t\t}\r\n \t\t\t\tif(moduleId === 0) {\r\n \t\t\t\t\treturn;\r\n \t\t\t\t}\r\n \t\t\t\tfor(var i = 0; i < module.parents.length; i++) {\r\n \t\t\t\t\tvar parentId = module.parents[i];\r\n \t\t\t\t\tvar parent = installedModules[parentId];\r\n \t\t\t\t\tif(parent.hot._declinedDependencies[moduleId]) {\r\n \t\t\t\t\t\treturn new Error(\"Aborted because of declined dependency: \" + moduleId + \" in \" + parentId);\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(outdatedModules.indexOf(parentId) >= 0) continue;\r\n \t\t\t\t\tif(parent.hot._acceptedDependencies[moduleId]) {\r\n \t\t\t\t\t\tif(!outdatedDependencies[parentId])\r\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\r\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\r\n \t\t\t\t\t\tcontinue;\r\n \t\t\t\t\t}\r\n \t\t\t\t\tdelete outdatedDependencies[parentId];\r\n \t\t\t\t\toutdatedModules.push(parentId);\r\n \t\t\t\t\tqueue.push(parentId);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\r\n \t\t\treturn [outdatedModules, outdatedDependencies];\r\n \t\t}\r\n \t\r\n \t\tfunction addAllToSet(a, b) {\r\n \t\t\tfor(var i = 0; i < b.length; i++) {\r\n \t\t\t\tvar item = b[i];\r\n \t\t\t\tif(a.indexOf(item) < 0)\r\n \t\t\t\t\ta.push(item);\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// at begin all updates modules are outdated\r\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\r\n \t\tvar outdatedDependencies = {};\r\n \t\tvar outdatedModules = [];\r\n \t\tvar appliedUpdate = {};\r\n \t\tfor(var id in hotUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\tvar moduleId = toModuleId(id);\r\n \t\t\t\tvar result = getAffectedStuff(moduleId);\r\n \t\t\t\tif(!result) {\r\n \t\t\t\t\tif(options.ignoreUnaccepted)\r\n \t\t\t\t\t\tcontinue;\r\n \t\t\t\t\thotSetStatus(\"abort\");\r\n \t\t\t\t\treturn callback(new Error(\"Aborted because \" + moduleId + \" is not accepted\"));\r\n \t\t\t\t}\r\n \t\t\t\tif(result instanceof Error) {\r\n \t\t\t\t\thotSetStatus(\"abort\");\r\n \t\t\t\t\treturn callback(result);\r\n \t\t\t\t}\r\n \t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\r\n \t\t\t\taddAllToSet(outdatedModules, result[0]);\r\n \t\t\t\tfor(var moduleId in result[1]) {\r\n \t\t\t\t\tif(Object.prototype.hasOwnProperty.call(result[1], moduleId)) {\r\n \t\t\t\t\t\tif(!outdatedDependencies[moduleId])\r\n \t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\r\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[moduleId], result[1][moduleId]);\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Store self accepted outdated modules to require them later by the module system\r\n \t\tvar outdatedSelfAcceptedModules = [];\r\n \t\tfor(var i = 0; i < outdatedModules.length; i++) {\r\n \t\t\tvar moduleId = outdatedModules[i];\r\n \t\t\tif(installedModules[moduleId] && installedModules[moduleId].hot._selfAccepted)\r\n \t\t\t\toutdatedSelfAcceptedModules.push({\r\n \t\t\t\t\tmodule: moduleId,\r\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\r\n \t\t\t\t});\r\n \t\t}\r\n \t\r\n \t\t// Now in \"dispose\" phase\r\n \t\thotSetStatus(\"dispose\");\r\n \t\tvar queue = outdatedModules.slice();\r\n \t\twhile(queue.length > 0) {\r\n \t\t\tvar moduleId = queue.pop();\r\n \t\t\tvar module = installedModules[moduleId];\r\n \t\t\tif(!module) continue;\r\n \t\r\n \t\t\tvar data = {};\r\n \t\r\n \t\t\t// Call dispose handlers\r\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\r\n \t\t\tfor(var j = 0; j < disposeHandlers.length; j++) {\r\n \t\t\t\tvar cb = disposeHandlers[j];\r\n \t\t\t\tcb(data);\r\n \t\t\t}\r\n \t\t\thotCurrentModuleData[moduleId] = data;\r\n \t\r\n \t\t\t// disable module (this disables requires from this module)\r\n \t\t\tmodule.hot.active = false;\r\n \t\r\n \t\t\t// remove module from cache\r\n \t\t\tdelete installedModules[moduleId];\r\n \t\r\n \t\t\t// remove \"parents\" references from all children\r\n \t\t\tfor(var j = 0; j < module.children.length; j++) {\r\n \t\t\t\tvar child = installedModules[module.children[j]];\r\n \t\t\t\tif(!child) continue;\r\n \t\t\t\tvar idx = child.parents.indexOf(moduleId);\r\n \t\t\t\tif(idx >= 0) {\r\n \t\t\t\t\tchild.parents.splice(idx, 1);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// remove outdated dependency from module children\r\n \t\tfor(var moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tvar module = installedModules[moduleId];\r\n \t\t\t\tvar moduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\tfor(var j = 0; j < moduleOutdatedDependencies.length; j++) {\r\n \t\t\t\t\tvar dependency = moduleOutdatedDependencies[j];\r\n \t\t\t\t\tvar idx = module.children.indexOf(dependency);\r\n \t\t\t\t\tif(idx >= 0) module.children.splice(idx, 1);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Not in \"apply\" phase\r\n \t\thotSetStatus(\"apply\");\r\n \t\r\n \t\thotCurrentHash = hotUpdateNewHash;\r\n \t\r\n \t\t// insert new code\r\n \t\tfor(var moduleId in appliedUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\r\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// call accept handlers\r\n \t\tvar error = null;\r\n \t\tfor(var moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tvar module = installedModules[moduleId];\r\n \t\t\t\tvar moduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\tvar callbacks = [];\r\n \t\t\t\tfor(var i = 0; i < moduleOutdatedDependencies.length; i++) {\r\n \t\t\t\t\tvar dependency = moduleOutdatedDependencies[i];\r\n \t\t\t\t\tvar cb = module.hot._acceptedDependencies[dependency];\r\n \t\t\t\t\tif(callbacks.indexOf(cb) >= 0) continue;\r\n \t\t\t\t\tcallbacks.push(cb);\r\n \t\t\t\t}\r\n \t\t\t\tfor(var i = 0; i < callbacks.length; i++) {\r\n \t\t\t\t\tvar cb = callbacks[i];\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\tcb(outdatedDependencies);\r\n \t\t\t\t\t} catch(err) {\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Load self accepted modules\r\n \t\tfor(var i = 0; i < outdatedSelfAcceptedModules.length; i++) {\r\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\r\n \t\t\tvar moduleId = item.module;\r\n \t\t\thotCurrentParents = [moduleId];\r\n \t\t\ttry {\r\n \t\t\t\t__webpack_require__(moduleId);\r\n \t\t\t} catch(err) {\r\n \t\t\t\tif(typeof item.errorHandler === \"function\") {\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\titem.errorHandler(err);\r\n \t\t\t\t\t} catch(err) {\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t} else if(!error)\r\n \t\t\t\t\terror = err;\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// handle errors in accept handlers and self accepted module load\r\n \t\tif(error) {\r\n \t\t\thotSetStatus(\"fail\");\r\n \t\t\treturn callback(error);\r\n \t\t}\r\n \t\r\n \t\thotSetStatus(\"idle\");\r\n \t\tcallback(null, outdatedModules);\r\n \t}\r\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false,\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: hotCurrentParents,\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(0)(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0091c122b16ade172588","import SourceMapSupport from 'source-map-support';\nSourceMapSupport.install();\nimport 'babel-polyfill';\nimport http from 'http';\nimport { MongoClient } from 'mongodb';\nimport socketio from 'socket.io';\n\n\nlet appModule = require('./server.js');\nlet db;\nlet server;\nlet websocket;\n\nMongoClient.connect('mongodb://localhost/cinebrain').then(connection => {\n  db = connection;\n  server = http.createServer();\n  appModule.setDb(db);\n  server.on('request', appModule.app);\n  server.listen(3000, () => {\n    console.log('App started on port 3000');\n  });\n  websocket = socketio(server);\n  websocket.on('connection', (socket) => {\n        console.log(\"user connected from: \" + socket.id);\n\n        socket.on('diagnostics-button', (message) => {\n                console.log(\"and the message is: \" + message);\n        });\n        socket.on('disconnect', () => {\n                console.log('user disconnected')\n        });\n\n  });\n}).catch(error => {\n  console.log('ERROR:', error);\n});\n\nif (module.hot) {\n  module.hot.accept('./server.js', () => {\n    server.removeListener('request', appModule.app);\n    appModule = require('./server.js');     // eslint-disable-line\n    appModule.setDb(db);\n    server.on('request', appModule.app);\n  });\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"source-map-support\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"source-map-support\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"mongodb\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongodb\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"socket.io\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"socket.io\"\n// module id = 6\n// module chunks = 0","import express from 'express';\nimport bodyParser from 'body-parser';\nimport { ObjectId } from 'mongodb';\nimport Issue from './issue.js';\nimport Device from './device.js';\nimport renderedPageRouter from './renderedPageRouter.jsx';\n\nconst app = express();\n\napp.use(express.static('static'));\napp.use(bodyParser.json());\n\nlet db;\n\n\n\napp.get('/api/issues', (req, res) => {\n  const filter = {};\n  if (req.query.status) filter.status = req.query.status;\n  if (req.query.effort_lte || req.query.effort_gte) filter.effort = {};\n  if (req.query.effort_lte) filter.effort.$lte = parseInt(req.query.effort_lte, 10);\n  if (req.query.effort_gte) filter.effort.$gte = parseInt(req.query.effort_gte, 10);\n\n  db.collection('issues').find(filter).toArray()\n  .then(issues => {\n    const metadata = { total_count: issues.length };\n    res.json({ _metadata: metadata, records: issues });\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({ message: `Internal Server Error: ${error}` });\n  });\n});\n\napp.get('/api/devices', (req, res) => {\n  const filter = {};\n  if (req.query.status) filter.status = req.query.status;\n  if (req.query.effort_lte || req.query.effort_gte) filter.effort = {};\n  if (req.query.effort_lte) filter.effort.$lte = parseInt(req.query.effort_lte, 10);\n  if (req.query.effort_gte) filter.effort.$gte = parseInt(req.query.effort_gte, 10);\n\n  db.collection('devices').find(filter).toArray()\n  .then(devices => {\n    const metadata = { total_count: devices.length };\n    res.json({ _metadata: metadata, records: devices });\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({ message: `Internal Server Error: ${error}` });\n  });\n});\n\napp.post('/api/issues', (req, res) => {\n  const newIssue = req.body;\n  newIssue.created = new Date();\n  if (!newIssue.status) {\n    newIssue.status = 'New';\n  }\n\n  const err = Issue.validateIssue(newIssue);\n  if (err) {\n    res.status(422).json({ message: `Invalid request: ${err}` });\n    return;\n  }\n\n  db.collection('issues').insertOne(Issue.cleanupIssue(newIssue)).then(result =>\n    db.collection('issues').find({ _id: result.insertedId }).limit(1)\n    .next()\n  )\n  .then(savedIssue => {\n    res.json(savedIssue);\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({ message: `Internal Server Error: ${error}` });\n  });\n});\n\napp.post('/api/devices', (req, res) => {\n  const newDevice = req.body;\n  newDevice.created = new Date();\n  if (!newDevice.status) {\n    newDevice.status = 'New';\n  }\n\n  const err = Device.validateDevice(newDevice);\n  if (err) {\n    res.status(422).json({ message: `Invalid request: ${err}` });\n    return;\n  }\n\n  db.collection('devices').insertOne(Device.cleanupDevice(newDevice)).then(result =>\n    db.collection('devices').find({ _id: result.insertedId }).limit(1)\n    .next()\n  )\n  .then(savedDevice => {\n    res.json(savedDevice);\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({ message: `Internal Server Error: ${error}` });\n  });\n});\n\napp.get('/api/issues/:id', (req, res) => {\n  let issueId;\n  try {\n    issueId = new ObjectId(req.params.id);\n  } catch (error) {\n    res.status(422).json({ message: `Invalid issue ID format: ${error}` });\n    return;\n  }\n\n  db.collection('issues').find({ _id: issueId }).limit(1)\n  .next()\n  .then(issue => {\n    if (!issue) res.status(404).json({ message: `No such issue: ${issueId}` });\n    else res.json(issue);\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({ message: `Internal Server Error: ${error}` });\n  });\n});\n\napp.get('/api/devices/:id', (req, res) => {\n  let deviceId;\n  try {\n    deviceId = new ObjectId(req.params.id);\n  } catch (error) {\n    res.status(422).json({ message: `Invalid device ID format: ${error}` });\n    return;\n  }\n\n  db.collection('devices').find({ _id: deviceId }).limit(1)\n  .next()\n  .then(device => {\n    if (!device) res.status(404).json({ message: `No such device: ${deviceId}` });\n    else res.json(device);\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({ message: `Internal Server Error: ${error}` });\n  });\n});\n\napp.put('/api/issues/:id', (req, res) => {\n  let issueId;\n  try {\n    issueId = new ObjectId(req.params.id);\n  } catch (error) {\n    res.status(422).json({ message: `Invalid issue ID format: ${error}` });\n    return;\n  }\n\n  const issue = req.body;\n  delete issue._id;\n\n  const err = Issue.validateIssue(issue);\n  if (err) {\n    res.status(422).json({ message: `Invalid request: ${err}` });\n    return;\n  }\n\n  db.collection('issues').updateOne({ _id: issueId }, Issue.convertIssue(issue)).then(() =>\n    db.collection('issues').find({ _id: issueId }).limit(1)\n    .next()\n  )\n  .then(savedIssue => {\n    res.json(savedIssue);\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({ message: `Internal Server Error: ${error}` });\n  });\n});\n\napp.put('/api/devices/:id', (req, res) => {\n  let deviceId;\n  try {\n    deviceId = new ObjectId(req.params.id);\n  } catch (error) {\n    res.status(422).json({ message: `Invalid device ID format: ${error}` });\n    return;\n  }\n\n  const device = req.body;\n  delete device._id;\n\n  const err = Device.validateDevice(device);\n  if (err) {\n    res.status(422).json({ message: `Invalid request: ${err}` });\n    return;\n  }\n\n  db.collection('devices').updateOne({ _id: deviceId }, Device.convertDevice(device)).then(() =>\n    db.collection('devices').find({ _id: deviceId }).limit(1)\n    .next()\n  )\n  .then(savedDevice => {\n    res.json(savedDevice);\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({ message: `Internal Server Error: ${error}` });\n  });\n});\napp.delete('/api/issues/:id', (req, res) => {\n  let issueId;\n  try {\n    issueId = new ObjectId(req.params.id);\n  } catch (error) {\n    res.status(422).json({ message: `Invalid issue ID format: ${error}` });\n    return;\n  }\n\n  db.collection('issues').deleteOne({ _id: issueId }).then((deleteResult) => {\n    if (deleteResult.result.n === 1) res.json({ status: 'OK' });\n    else res.json({ status: 'Warning: object not found' });\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({ message: `Internal Server Error: ${error}` });\n  });\n});\napp.delete('/api/devices/:id', (req, res) => {\n  let deviceId;\n  try {\n    deviceId = new ObjectId(req.params.id);\n  } catch (error) {\n    res.status(422).json({ message: `Invalid device ID format: ${error}` });\n    return;\n  }\n\n  db.collection('devices').deleteOne({ _id: deviceId }).then((deleteResult) => {\n    if (deleteResult.result.n === 1) res.json({ status: 'OK' });\n    else res.json({ status: 'Warning: object not found' });\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({ message: `Internal Server Error: ${error}` });\n  });\n});\napp.use('/', renderedPageRouter);\n\nfunction setDb(newDb) {\n  db = newDb;\n}\n\nexport { app, setDb };\n\n\n\n// WEBPACK FOOTER //\n// ./server/server.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 9\n// module chunks = 0","const validIssueStatus = {\n  New: true,\n  Open: true,\n  Assigned: true,\n  Fixed: true,\n  Verified: true,\n  Closed: true,\n};\n\nconst issueFieldType = {\n  status: 'required',\n  owner: 'required',\n  effort: 'optional',\n  created: 'required',\n  completionDate: 'optional',\n  title: 'required',\n};\n\nfunction cleanupIssue(issue) {\n  const cleanedUpIssue = {};\n  Object.keys(issue).forEach(field => {\n    if (issueFieldType[field]) cleanedUpIssue[field] = issue[field];\n  });\n  return cleanedUpIssue;\n}\n\nfunction convertIssue(issue) {\n  if (issue.created) issue.created = new Date(issue.created);\n  if (issue.completionDate) issue.completionDate = new Date(issue.completionDate);\n  return cleanupIssue(issue);\n}\n\nfunction validateIssue(issue) {\n  const errors = [];\n  Object.keys(issueFieldType).forEach(field => {\n    if (issueFieldType[field] === 'required' && !issue[field]) {\n      errors.push(`Missing mandatory field: ${field}`);\n    }\n  });\n\n  if (!validIssueStatus[issue.status]) {\n    errors.push(`${issue.status} is not a valid status.`);\n  }\n\n  return (errors.length ? errors.join('; ') : null);\n}\n\nexport default {\n  validateIssue,\n  cleanupIssue,\n  convertIssue,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/issue.js","const validDeviceStatus = {\n  _id: true,\n  device_id: true,\n  name: true,\n  core: true,\n  purpose: true,\n  protocol: true,\n  port: true,\n  specification: true,\n  control_types: true,\n  status: true,\n  who: true,\n  notes: true,\n  example_command: true,\n  manual_link: true,\n};\n\nconst deviceFieldType = {\n  device_id: 'required',\n  name: 'required',\n  purpose: 'optional',\n  control_types: 'optional',\n  status: 'required',\n};\n\nfunction cleanupDevice(device) {\n  const cleanedUpDevice = {};\n  Object.keys(device).forEach(field => {\n    if (deviceFieldType[field]) cleanedUpDevice[field] = device[field];\n  });\n  return cleanedUpDevice;\n}\n\nfunction convertDevice(device) {\n  if (device.status) device.status = new Date(device.created);\n  if (device.completionDate) device.completionDate = new Date(device.completionDate);\n  return cleanupDevice(device);\n}\n\nfunction validateDevice(device) {\n  const errors = [];\n  Object.keys(deviceFieldType).forEach(field => {\n    if (deviceFieldType[field] === 'required' && !device[field]) {\n      errors.push(`Missing mandatory field: ${field}`);\n    }\n  });\n\n  if (!validDeviceStatus[device.status]) {\n    errors.push(`${device.status} is not a valid status.`);\n  }\n\n  return (errors.length ? errors.join('; ') : null);\n}\n\nexport default {\n  validateDevice,\n  cleanupDevice,\n  convertDevice,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/device.js","import React from 'react';\nimport { renderToString } from 'react-dom/server';\nimport { match, RouterContext } from 'react-router';\n\nimport Router from 'express';\n\nimport template from './template.js';\nimport routes from '../src/Routes.jsx';\nimport ContextWrapper from '../src/ContextWrapper.jsx';\n\nconst renderedPageRouter = new Router();\n\nrenderedPageRouter.get('*', (req, res) => {\n  match({ routes, location: req.url }, (error, redirectLocation, renderProps) => {\n    if (error) {\n      res.status(500).send(error.message);\n    } else if (redirectLocation) {\n      res.redirect(302, redirectLocation.pathname + redirectLocation.search);\n    } else if (renderProps) {\n      const componentsWithData = renderProps.components.filter(c => c.dataFetcher);\n      const dataFetchers = componentsWithData.map(c => c.dataFetcher({\n        params: renderProps.params, location: renderProps.location,\n        urlBase: 'http://localhost:3000',\n      }));\n      Promise.all(dataFetchers).then((dataList) => {\n        let initialState = {};\n        dataList.forEach((namedData) => {\n          initialState = Object.assign(initialState, namedData);\n        });\n        const html = renderToString(\n          <ContextWrapper initialState={initialState} >\n            <RouterContext {...renderProps} />\n          </ContextWrapper>\n        );\n        res.status(200).send(template(html, initialState));\n      })\n      .catch(err => {\n        console.log(`Error rendering to string: ${err}`);\n      });\n    } else {\n      res.status(404).send('Not found');\n    }\n  });\n});\n\nexport default renderedPageRouter;\n\n\n\n// WEBPACK FOOTER //\n// ./server/renderedPageRouter.jsx","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 15\n// module chunks = 0","export default function template(body, initialState) {\n  return `<!DOCTYPE HTML>\n<html>\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>CINEBRAIN</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <link rel=\"stylesheet\" href=\"/css/bootstrap.min.css\" >\n<link rel=\"stylesheet\" href=\"/css/react-grid-layout-styles.css\" >\n  <link rel=\"stylesheet\" href=\"/css/react-resizable-styles.css\" >\n    <link rel=\"stylesheet\" href=\"/css/slider.css\" />\n<style>\n    .panel-title a {display: block; width: 100%; cursor: pointer; }\n  </style>\n</head>\n\n<body>\n  <div id=\"contents\">${body}</div>    <!-- this is where our component will appear -->\n  <script>window.__INITIAL_STATE__ = ${JSON.stringify(initialState)};</script>\n  <script src=\"/vendor.bundle.js\"></script>\n  <script src=\"/app.bundle.js\"></script>\n</body>\n\n</html>\n`;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/template.js","import React from 'react';\nimport { Route, IndexRedirect, withRouter } from 'react-router';\nimport App from './App.jsx';\nimport IssueList from './IssueList.jsx';\nimport IssueEdit from './IssueEdit.jsx';\nimport DeviceList from './DeviceList.jsx';\nimport DeviceEdit from './DeviceEdit.jsx';\nimport ControllersSetup from './ControllersSetup.jsx';\nimport NewControllers from './NewControllers.jsx';\nimport DeviceMenu from './DeviceMenu.jsx';\nimport Diagnostics from './Diagnostics.jsx';\nimport Help from './Help.jsx';\n\nconst NoMatch = () => <p>Page Not Found</p>;\n\nexport default (\n  <Route path=\"/\" component={App} >\n    <IndexRedirect to=\"/controllers\" />\n    <Route path=\"device_menu\" component={DeviceMenu} />\n    <Route path=\"randomizer\" component={ControllersSetup} />\n    <Route path=\"new_controllers\" component={NewControllers} />\n    <Route path=\"issues\" component={withRouter(IssueList)} />\n    <Route path=\"issues/:id\" component={IssueEdit} />\n    <Route path=\"devices\" component={withRouter(DeviceList)} />\n    <Route path=\"devices/:id\" component={DeviceEdit} />\n    <Route path=\"diagnostics\" component={Diagnostics} />\n    <Route path=\"help\" component={withRouter(Help)} />\n    <Route path=\"*\" component={NoMatch} />  \n</Route>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/Routes.jsx","import 'babel-polyfill';\nimport React from 'react';\nimport { Navbar, Nav, NavItem, NavDropdown, MenuItem, Glyphicon } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport MdMoreVert from 'react-icons/lib/md/more-vert';\n\nconst Header = () => (\n  <Navbar fluid>\n    <Navbar.Header>\n      <Navbar.Brand>Cinebrain</Navbar.Brand>\n    </Navbar.Header>\n    <Nav>\n\t<LinkContainer to=\"/device_menu\">\n        <NavItem>DeviceMenu</NavItem>\n      </LinkContainer>\n      <LinkContainer to=\"/randomizer\">\n        <NavItem>Randomizer</NavItem>\n      </LinkContainer>\n       <LinkContainer to=\"/new_controllers\">\n        <NavItem>New Controllers</NavItem>\n      </LinkContainer>\n      <LinkContainer to=\"/devices\">\n        <NavItem>Devices</NavItem>\n      </LinkContainer>\n <LinkContainer to=\"/issues\">\n        <NavItem>Issues</NavItem>\n      </LinkContainer>\n <LinkContainer to=\"/diagnostics\">\n        <NavItem>Diagnostics</NavItem>\n      </LinkContainer>\n    </Nav>\n    <Nav pullRight>\n      <NavDropdown id=\"user-dropdown\" title={<MdMoreVert size={18} />} noCaret>\n\t\t<LinkContainer to=\"/help\">\n\t\t\t<MenuItem>Help</MenuItem>\n      \t\t</LinkContainer>\n\t</NavDropdown>\n    </Nav>\n  </Navbar>\n);\n\nconst App = (props) => (\n  <div>\n    <Header />\n    <div className=\"container-fluid\">\n      {props.children}\n      <hr />\n    </div>\n  </div>\n);\n\nApp.propTypes = {\n  children: React.PropTypes.object.isRequired,\n};\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.jsx","module.exports = require(\"react-bootstrap\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-bootstrap\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"react-router-bootstrap\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-bootstrap\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"react-icons/lib/md/more-vert\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-icons/lib/md/more-vert\"\n// module id = 21\n// module chunks = 0","import React from 'react';\nimport 'isomorphic-fetch';\nimport { Link } from 'react-router';\nimport { Button, Glyphicon, Table, Panel } from 'react-bootstrap';\nimport FaTrash from 'react-icons/lib/fa/trash';\n\nimport IssueFilter from './IssueFilter.jsx';\nimport Toast from './Toast.jsx';\n\nconst IssueRow = (props) => {\n  function onDeleteClick() {\n    props.deleteIssue(props.issue._id);\n  }\n\n  return (\n    <tr>\n      <td><Link to={`/issues/${props.issue._id}`}>{props.issue._id.substr(-4)}</Link></td>\n      <td>{props.issue.status}</td>\n      <td>{props.issue.owner}</td>\n      <td>{props.issue.created.toDateString()}</td>\n      <td>{props.issue.effort}</td>\n      <td>{props.issue.completionDate ? props.issue.completionDate.toDateString() : ''}</td>\n      <td>{props.issue.title}</td>\n      <td>\n        <Button bsSize=\"xsmall\" onClick={onDeleteClick}><FaTrash /></Button>\n      </td>\n    </tr>\n  );\n};\n\nIssueRow.propTypes = {\n  issue: React.PropTypes.object.isRequired,\n  deleteIssue: React.PropTypes.func.isRequired,\n};\n\nfunction IssueTable(props) {\n  const issueRows = props.issues.map(issue =>\n    <IssueRow key={issue._id} issue={issue} deleteIssue={props.deleteIssue} />\n  );\n  return (\n    <Table bordered condensed hover responsive>\n      <thead>\n        <tr>\n          <th>Id</th>\n          <th>Status</th>\n          <th>Owner</th>\n          <th>Created</th>\n          <th>Effort</th>\n          <th>Completion Date</th>\n          <th>Title</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>{issueRows}</tbody>\n    </Table>\n  );\n}\n\nIssueTable.propTypes = {\n  issues: React.PropTypes.array.isRequired,\n  deleteIssue: React.PropTypes.func.isRequired,\n};\n\nexport default class IssueList extends React.Component {\n  static dataFetcher({ urlBase, location }) {\n    return fetch(`${urlBase || ''}/api/issues${location.search}`).then(response => {\n      if (!response.ok) return response.json().then(error => Promise.reject(error));\n      return response.json().then(data => ({ IssueList: data }));\n    });\n  }\n\n  constructor(props, context) {\n    super(props, context);\n    const issues = context.initialState.IssueList ? context.initialState.IssueList.records : [];\n    issues.forEach(issue => {\n      issue.created = new Date(issue.created);\n      if (issue.completionDate) {\n        issue.completionDate = new Date(issue.completionDate);\n      }\n    });\n    this.state = {\n      issues,\n      toastVisible: false, toastMessage: '', toastType: 'success',\n    };\n\n    this.setFilter = this.setFilter.bind(this);\n    this.deleteIssue = this.deleteIssue.bind(this);\n    this.showError = this.showError.bind(this);\n    this.dismissToast = this.dismissToast.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const oldQuery = prevProps.location.query;\n    const newQuery = this.props.location.query;\n    if (oldQuery.status === newQuery.status\n        && oldQuery.effort_gte === newQuery.effort_gte\n        && oldQuery.effort_lte === newQuery.effort_lte) {\n      return;\n    }\n    this.loadData();\n  }\n\n  setFilter(query) {\n    this.props.router.push({ pathname: this.props.location.pathname, query });\n  }\n\n  showError(message) {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'danger' });\n  }\n\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n\n  loadData() {\n    IssueList.dataFetcher({ location: this.props.location })\n    .then(data => {\n      const issues = data.IssueList.records;\n      issues.forEach(issue => {\n        issue.created = new Date(issue.created);\n        if (issue.completionDate) {\n          issue.completionDate = new Date(issue.completionDate);\n        }\n      });\n      this.setState({ issues });\n    }).catch(err => {\n      this.showError(`Error in fetching data from server: ${err}`);\n    });\n  }\n\n  deleteIssue(id) {\n    fetch(`/api/issues/${id}`, { method: 'DELETE' }).then(response => {\n      if (!response.ok) this.showError('Failed to delete issue');\n      else this.loadData();\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <Panel collapsible header=\"Filter\">\n          <IssueFilter setFilter={this.setFilter} initFilter={this.props.location.query} />\n        </Panel>\n        <IssueTable issues={this.state.issues} deleteIssue={this.deleteIssue} />\n        <Toast\n          showing={this.state.toastVisible} message={this.state.toastMessage}\n          onDismiss={this.dismissToast} bsStyle={this.state.toastType}\n        />\n      </div>\n    );\n  }\n}\n\nIssueList.propTypes = {\n  location: React.PropTypes.object.isRequired,\n  router: React.PropTypes.object,\n};\n\nIssueList.contextTypes = {\n  initialState: React.PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/IssueList.jsx","module.exports = require(\"isomorphic-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-fetch\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"react-icons/lib/fa/trash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-icons/lib/fa/trash\"\n// module id = 24\n// module chunks = 0","import React from 'react';\nimport { Col, Row, FormGroup, FormControl, ControlLabel, InputGroup,\n  ButtonToolbar, Button } from 'react-bootstrap';\n\nexport default class IssueFilter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      status: props.initFilter.status || '',\n      effort_gte: props.initFilter.effort_gte || '',\n      effort_lte: props.initFilter.effort_lte || '',\n      changed: false,\n    };\n    this.onChangeStatus = this.onChangeStatus.bind(this);\n    this.onChangeEffortGte = this.onChangeEffortGte.bind(this);\n    this.onChangeEffortLte = this.onChangeEffortLte.bind(this);\n    this.applyFilter = this.applyFilter.bind(this);\n    this.resetFilter = this.resetFilter.bind(this);\n    this.clearFilter = this.clearFilter.bind(this);\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      status: newProps.initFilter.status || '',\n      effort_gte: newProps.initFilter.effort_gte || '',\n      effort_lte: newProps.initFilter.effort_lte || '',\n      changed: false,\n    });\n  }\n\n  onChangeStatus(e) {\n    this.setState({ status: e.target.value, changed: true });\n  }\n\n  onChangeEffortGte(e) {\n    const effortString = e.target.value;\n    if (effortString.match(/^\\d*$/)) {\n      this.setState({ effort_gte: e.target.value, changed: true });\n    }\n  }\n\n  onChangeEffortLte(e) {\n    const effortString = e.target.value;\n    if (effortString.match(/^\\d*$/)) {\n      this.setState({ effort_lte: e.target.value, changed: true });\n    }\n  }\n\n  applyFilter() {\n    const newFilter = {};\n    if (this.state.status) newFilter.status = this.state.status;\n    if (this.state.effort_gte) newFilter.effort_gte = this.state.effort_gte;\n    if (this.state.effort_lte) newFilter.effort_lte = this.state.effort_lte;\n    this.props.setFilter(newFilter);\n  }\n\n  clearFilter() {\n    this.props.setFilter({});\n  }\n\n  resetFilter() {\n    this.setState({\n      status: this.props.initFilter.status || '',\n      effort_gte: this.props.initFilter.effort_gte || '',\n      effort_lte: this.props.initFilter.effort_lte || '',\n      changed: false,\n    });\n  }\n\n  render() {\n    return (\n      <Row>\n        <Col xs={6} sm={4} md={3} lg={2}>\n          <FormGroup>\n            <ControlLabel>Status</ControlLabel>\n            <FormControl\n              componentClass=\"select\" value={this.state.status}\n              onChange={this.onChangeStatus}\n            >\n              <option value=\"\">(Any)</option>\n              <option value=\"New\">New</option>\n              <option value=\"Open\">Open</option>\n              <option value=\"Assigned\">Assigned</option>\n              <option value=\"Fixed\">Fixed</option>\n              <option value=\"Verified\">Verified</option>\n              <option value=\"Closed\">Closed</option>\n            </FormControl>\n          </FormGroup>\n        </Col>\n        <Col xs={6} sm={4} md={3} lg={2}>\n          <FormGroup>\n            <ControlLabel>Effort</ControlLabel>\n            <InputGroup>\n              <FormControl value={this.state.effort_gte} onChange={this.onChangeEffortGte} />\n              <InputGroup.Addon>-</InputGroup.Addon>\n              <FormControl value={this.state.effort_lte} onChange={this.onChangeEffortLte} />\n            </InputGroup>\n          </FormGroup>\n        </Col>\n        <Col xs={6} sm={4} md={3} lg={2}>\n          <FormGroup>\n            <ControlLabel>&nbsp;</ControlLabel>\n            <ButtonToolbar>\n              <Button bsStyle=\"primary\" onClick={this.applyFilter}>Apply</Button>\n              <Button onClick={this.resetFilter} disabled={!this.state.changed}>Reset</Button>\n              <Button onClick={this.clearFilter}>Clear</Button>\n            </ButtonToolbar>\n          </FormGroup>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nIssueFilter.propTypes = {\n  setFilter: React.PropTypes.func.isRequired,\n  initFilter: React.PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/IssueFilter.jsx","import React from 'react';\nimport { Alert, Collapse } from 'react-bootstrap';\n\nexport default class Toast extends React.Component {\n  componentDidUpdate() {\n    if (this.props.showing) {\n      clearTimeout(this.dismissTimer);\n      this.dismissTimer = setTimeout(this.props.onDismiss, 5000);\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.dismissTimer);\n  }\n\n  render() {\n    return (\n      <Collapse in={this.props.showing}>\n        <div style={{ position: 'fixed', top: 30, left: 0, right: 0, textAlign: 'center' }}>\n          <Alert\n            style={{ display: 'inline-block', width: 500 }} bsStyle={this.props.bsStyle}\n            onDismiss={this.props.onDismiss}\n          >\n            {this.props.message}\n          </Alert>\n        </div>\n      </Collapse>\n    );\n  }\n}\n\nToast.propTypes = {\n  showing: React.PropTypes.bool.isRequired,\n  onDismiss: React.PropTypes.func.isRequired,\n  bsStyle: React.PropTypes.string,\n  message: React.PropTypes.any.isRequired,\n};\n\nToast.defaultProps = {\n  bsStyle: 'success',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Toast.jsx","import React from 'react';\nimport { FormGroup, FormControl, ControlLabel, ButtonToolbar, Button,\n  Panel, Form, Col, Alert } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport NumInput from './NumInput.jsx';\n\nimport DateInput from './DateInput.jsx';\nimport Toast from './Toast.jsx';\n\nexport default class IssueEdit extends React.Component {\n  static dataFetcher({ params, urlBase }) {\n    return fetch(`${urlBase || ''}/api/issues/${params.id}`).then(response => {\n      if (!response.ok) return response.json().then(error => Promise.reject(error));\n      return response.json().then(data => ({ IssueEdit: data }));\n    });\n  }\n\n  constructor(props, context) {\n    super(props, context);\n    let issue;\n    if (context.initialState.IssueEdit) {\n      issue = context.initialState.IssueEdit;\n      issue.created = new Date(issue.created);\n      issue.completionDate = issue.completionDate != null ?\n        new Date(issue.completionDate) : null;\n    } else {\n      issue = {\n        _id: '', title: '', status: '', owner: '', effort: null,\n        completionDate: null, created: null,\n      };\n    }\n    this.state = {\n      issue,\n      invalidFields: {}, showingValidation: false,\n      toastVisible: false, toastMessage: '', toastType: 'success',\n    };\n    this.dismissValidation = this.dismissValidation.bind(this);\n    this.showValidation = this.showValidation.bind(this);\n    this.showSuccess = this.showSuccess.bind(this);\n    this.showError = this.showError.bind(this);\n    this.dismissToast = this.dismissToast.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.onValidityChange = this.onValidityChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.params.id !== this.props.params.id) {\n      this.loadData();\n    }\n  }\n\n  onChange(event, convertedValue) {\n    const issue = Object.assign({}, this.state.issue);\n    const value = (convertedValue !== undefined) ? convertedValue : event.target.value;\n    issue[event.target.name] = value;\n    this.setState({ issue });\n  }\n\n  onValidityChange(event, valid) {\n    const invalidFields = Object.assign({}, this.state.invalidFields);\n    if (!valid) {\n      invalidFields[event.target.name] = true;\n    } else {\n      delete invalidFields[event.target.name];\n    }\n    this.setState({ invalidFields });\n  }\n\n  onSubmit(event) {\n    event.preventDefault();\n    this.showValidation();\n\n    if (Object.keys(this.state.invalidFields).length !== 0) {\n      return;\n    }\n\n    fetch(`/api/issues/${this.props.params.id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(this.state.issue),\n    }).then(response => {\n      if (response.ok) {\n        response.json().then(updatedIssue => {\n          updatedIssue.created = new Date(updatedIssue.created);\n          if (updatedIssue.completionDate) {\n            updatedIssue.completionDate = new Date(updatedIssue.completionDate);\n          }\n          this.setState({ issue: updatedIssue });\n          this.showSuccess('Updated issue successfully.');\n        });\n      } else {\n        response.json().then(error => {\n          this.showError(`Failed to update issue: ${error.message}`);\n        });\n      }\n    }).catch(err => {\n      this.showError(`Error in sending data to server: ${err.message}`);\n    });\n  }\n\n  loadData() {\n    IssueEdit.dataFetcher({ params: this.props.params })\n    .then(data => {\n      const issue = data.IssueEdit;\n      issue.created = new Date(issue.created);\n      issue.completionDate = issue.completionDate != null ?\n        new Date(issue.completionDate) : null;\n      this.setState({ issue });\n    }).catch(err => {\n      this.showError(`Error in fetching data from server: ${err.message}`);\n    });\n  }\n\n  showValidation() {\n    this.setState({ showingValidation: true });\n  }\n\n  dismissValidation() {\n    this.setState({ showingValidation: false });\n  }\n\n  showSuccess(message) {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'success' });\n  }\n\n  showError(message) {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'danger' });\n  }\n\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n\n  render() {\n    const issue = this.state.issue;\n    let validationMessage = null;\n    if (Object.keys(this.state.invalidFields).length !== 0 && this.state.showingValidation) {\n      validationMessage = (\n        <Alert bsStyle=\"danger\" onDismiss={this.dismissValidation}>\n          Please correct invalid fields before submitting.\n        </Alert>\n      );\n    }\n    return (\n      <Panel header=\"Edit Issue\">\n        <Form horizontal onSubmit={this.onSubmit}>\n          <FormGroup>\n            <Col componentClass={ControlLabel} sm={3}>ID</Col>\n            <Col sm={9}>\n              <FormControl.Static>{issue._id}</FormControl.Static>\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col componentClass={ControlLabel} sm={3}>Created</Col>\n            <Col sm={9}>\n              <FormControl.Static>\n                {issue.created ? issue.created.toDateString() : ''}\n              </FormControl.Static>\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col componentClass={ControlLabel} sm={3}>Status</Col>\n            <Col sm={9}>\n              <FormControl\n                componentClass=\"select\" name=\"status\" value={issue.status}\n                onChange={this.onChange}\n              >\n                <option value=\"New\">New</option>\n                <option value=\"Open\">Open</option>\n                <option value=\"Assigned\">Assigned</option>\n                <option value=\"Fixed\">Fixed</option>\n                <option value=\"Verified\">Verified</option>\n                <option value=\"Closed\">Closed</option>\n              </FormControl>\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col componentClass={ControlLabel} sm={3}>Owner</Col>\n            <Col sm={9}>\n              <FormControl name=\"owner\" value={issue.owner} onChange={this.onChange} />\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col componentClass={ControlLabel} sm={3}>Effort</Col>\n            <Col sm={9}>\n              <FormControl\n                componentClass={NumInput} name=\"effort\"\n                value={issue.effort} onChange={this.onChange}\n              />\n            </Col>\n          </FormGroup>\n          <FormGroup validationState={this.state.invalidFields.completionDate ? 'error' : null}>\n            <Col componentClass={ControlLabel} sm={3}>Completion Date</Col>\n            <Col sm={9}>\n              <FormControl\n                componentClass={DateInput} name=\"completionDate\"\n                value={issue.completionDate} onChange={this.onChange}\n                onValidityChange={this.onValidityChange}\n              />\n              <FormControl.Feedback />\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col componentClass={ControlLabel} sm={3}>Title</Col>\n            <Col sm={9}>\n              <FormControl name=\"title\" value={issue.title} onChange={this.onChange} />\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col smOffset={3} sm={6}>\n              <ButtonToolbar>\n                <Button bsStyle=\"primary\" type=\"submit\">Submit</Button>\n                <LinkContainer to=\"/issues\">\n                  <Button bsStyle=\"link\">Back</Button>\n                </LinkContainer>\n              </ButtonToolbar>\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col smOffset={3} sm={9}>{validationMessage}</Col>\n          </FormGroup>\n        </Form>\n        <Toast\n          showing={this.state.toastVisible} message={this.state.toastMessage}\n          onDismiss={this.dismissToast} bsStyle={this.state.toastType}\n        />\n      </Panel>\n    );\n  }\n}\n\nIssueEdit.propTypes = {\n  params: React.PropTypes.object.isRequired,\n};\n\nIssueEdit.contextTypes = {\n  initialState: React.PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/IssueEdit.jsx","import React from 'react';\n\nexport default class NumInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: this.format(props.value) };\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.setState({ value: this.format(newProps.value) });\n  }\n\n  onBlur(e) {\n    this.props.onChange(e, this.unformat(this.state.value));\n  }\n\n  onChange(e) {\n    if (e.target.value.match(/^\\d*$/)) {\n      this.setState({ value: e.target.value });\n    }\n  }\n\n  format(num) {\n    return num != null ? num.toString() : '';\n  }\n\n  unformat(str) {\n    const val = parseInt(str, 10);\n    return isNaN(val) ? null : val;\n  }\n\n  render() {\n    return (\n      <input\n        type=\"text\" {...this.props} value={this.state.value}\n        onBlur={this.onBlur} onChange={this.onChange}\n      />\n    );\n  }\n}\n\nNumInput.propTypes = {\n  value: React.PropTypes.number,\n  onChange: React.PropTypes.func.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/NumInput.jsx","import React from 'react';\n\nexport default class DateInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: this.editFormat(props.value), focused: false, valid: true };\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.value !== this.props.value) {\n      this.setState({ value: this.editFormat(newProps.value) });\n    }\n  }\n\n  onFocus() {\n    this.setState({ focused: true });\n  }\n\n  onBlur(e) {\n    const value = this.unformat(this.state.value);\n    const valid = this.state.value === '' || value != null;\n    if (valid !== this.state.valid && this.props.onValidityChange) {\n      this.props.onValidityChange(e, valid);\n    }\n    this.setState({ focused: false, valid });\n    if (valid) this.props.onChange(e, value);\n  }\n\n  onChange(e) {\n    if (e.target.value.match(/^[\\d-]*$/)) {\n      this.setState({ value: e.target.value });\n    }\n  }\n\n  displayFormat(date) {\n    return (date != null) ? date.toDateString() : '';\n  }\n\n  editFormat(date) {\n    return (date != null) ? date.toISOString().substr(0, 10) : '';\n  }\n\n  unformat(str) {\n    const val = new Date(str);\n    return isNaN(val.getTime()) ? null : val;\n  }\n\n  render() {\n    const value = (this.state.focused || !this.state.valid) ? this.state.value\n      : this.displayFormat(this.props.value);\n    const childProps = Object.assign({}, this.props);\n    delete childProps.onValidityChange;\n    return (\n      <input\n        type=\"text\" {...childProps} value={value}\n        placeholder={this.state.focused ? 'yyyy-mm-dd' : null}\n        onFocus={this.onFocus} onBlur={this.onBlur} onChange={this.onChange}\n      />\n    );\n  }\n}\n\nDateInput.propTypes = {\n  value: React.PropTypes.object,\n  onChange: React.PropTypes.func.isRequired,\n  onValidityChange: React.PropTypes.func,\n  name: React.PropTypes.string.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/DateInput.jsx","import React from 'react';\nimport 'isomorphic-fetch';\nimport { Link } from 'react-router';\nimport { Button, Glyphicon, Table, Panel } from 'react-bootstrap';\n\nimport DeviceFilter from './DeviceFilter.jsx';\nimport Toast from './Toast.jsx';\n\n\nconst DeviceRow = (props) => {\n\n  return (\n    <tr>\n      <td>{props.device.device_number}</td>\n      <td>{props.device.status}</td>\n      <td>{props.device.name}</td>\n      <td>{props.device.purpose}</td>\n      <td>{props.device.protocol}</td>\n      <td>{props.device.port}</td>\n      <td>{props.device.control_types}</td>\n    </tr>\n  );\n};\n\nDeviceRow.propTypes = {\n  device: React.PropTypes.object.isRequired,\n  //deleteDevice: React.PropTypes.func.isRequired,\n};\n\nfunction DeviceTable(props) {\n  const deviceRows = props.devices.map(device =>\n    <DeviceRow key={device._id} device={device} /> //deleteDevice={props.deleteDevice} />\n  );\n  return (\n    <Table bordered condensed hover responsive>\n      <thead>\n        <tr>\n          <th>Number</th>\n          <th>Status</th>\n          <th>Name</th>\n          <th>Purpose</th>\n          <th>Protocol</th>\n          <th>Port</th>\n          <th>Control Types</th>\n        </tr>\n      </thead>\n      <tbody>{deviceRows}</tbody>\n    </Table>\n  );\n}\n\nDeviceTable.propTypes = {\n  devices: React.PropTypes.array.isRequired,\n // deleteDevice: React.PropTypes.func.isRequired,\n};\n\nexport default class DeviceList extends React.Component {\n  static dataFetcher({ urlBase, location }) {\n    return fetch(`${urlBase || ''}/api/devices${location.search}`).then(response => {\n      if (!response.ok) return response.json().then(error => Promise.reject(error));\n      return response.json().then(data => ({ DeviceList: data }));\n    });\n  }\n\n  constructor(props, context) {\n    super(props, context);\n    const devices = context.initialState.DeviceList ? context.initialState.DeviceList.records : [];\n    devices.forEach(device => {\n      device.created = new Date(device.created);\n      if (device.completionDate) {\n        device.completionDate = new Date(device.completionDate);\n      }\n    });\n    this.state = {\n      devices,\n      toastVisible: false, toastMessage: '', toastType: 'success',\n    };\n\n    this.setFilter = this.setFilter.bind(this);\n    //this.deleteDevice = this.deleteDevice.bind(this);\n    this.showError = this.showError.bind(this);\n    this.dismissToast = this.dismissToast.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const oldQuery = prevProps.location.query;\n    const newQuery = this.props.location.query;\n    if (oldQuery.status === newQuery.status\n        && oldQuery.effort_gte === newQuery.effort_gte\n        && oldQuery.effort_lte === newQuery.effort_lte) {\n      return;\n    }\n    this.loadData();\n  }\n\n  setFilter(query) {\n    this.props.router.push({ pathname: this.props.location.pathname, query });\n  }\n\n  showError(message) {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'danger' });\n  }\n\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n\n  loadData() {\n    DeviceList.dataFetcher({ location: this.props.location })\n    .then(data => {\n      const devices = data.DeviceList.records;\n      devices.forEach(device => {\n        device.created = new Date(device.created);\n        if (device.completionDate) {\n          device.completionDate = new Date(device.completionDate);\n        }\n      });\n      this.setState({ devices });\n    }).catch(err => {\n      this.showError(`Error in fetching data from server: ${err}`);\n    });\n  }\n\n /* deleteDevice(id) {\n    fetch(`/api/devices/${id}`, { method: 'DELETE' }).then(response => {\n      if (!response.ok) this.showError('Failed to delete device');\n      else this.loadData();\n    });\n  }*/\n\n  render() {\n    return (\n      <div>\n        <Panel collapsible header=\"Filter\">\n          <DeviceFilter setFilter={this.setFilter} initFilter={this.props.location.query} />\n        </Panel>\n        <DeviceTable devices={this.state.devices} /> \n        <Toast\n          showing={this.state.toastVisible} message={this.state.toastMessage}\n          onDismiss={this.dismissToast} bsStyle={this.state.toastType}\n        />\n      </div>\n    );\n  }\n}\n\nDeviceList.propTypes = {\n  location: React.PropTypes.object.isRequired,\n  router: React.PropTypes.object,\n};\n\nDeviceList.contextTypes = {\n  initialState: React.PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/DeviceList.jsx","import React from 'react';\nimport { Col, Row, FormGroup, FormControl, ControlLabel, InputGroup,\n  ButtonToolbar, Button } from 'react-bootstrap';\n\nexport default class DeviceFilter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      status: props.initFilter.status || '',\n      effort_gte: props.initFilter.effort_gte || '',\n      effort_lte: props.initFilter.effort_lte || '',\n      changed: false,\n    };\n    this.onChangeStatus = this.onChangeStatus.bind(this);\n    this.onChangeEffortGte = this.onChangeEffortGte.bind(this);\n    this.onChangeEffortLte = this.onChangeEffortLte.bind(this);\n    this.applyFilter = this.applyFilter.bind(this);\n    this.resetFilter = this.resetFilter.bind(this);\n    this.clearFilter = this.clearFilter.bind(this);\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      status: newProps.initFilter.status || '',\n      effort_gte: newProps.initFilter.effort_gte || '',\n      effort_lte: newProps.initFilter.effort_lte || '',\n      changed: false,\n    });\n  }\n\n  onChangeStatus(e) {\n    this.setState({ status: e.target.value, changed: true });\n  }\n\n  onChangeEffortGte(e) {\n    const effortString = e.target.value;\n    if (effortString.match(/^\\d*$/)) {\n      this.setState({ effort_gte: e.target.value, changed: true });\n    }\n  }\n\n  onChangeEffortLte(e) {\n    const effortString = e.target.value;\n    if (effortString.match(/^\\d*$/)) {\n      this.setState({ effort_lte: e.target.value, changed: true });\n    }\n  }\n\n  applyFilter() {\n    const newFilter = {};\n    if (this.state.status) newFilter.status = this.state.status;\n    if (this.state.effort_gte) newFilter.effort_gte = this.state.effort_gte;\n    if (this.state.effort_lte) newFilter.effort_lte = this.state.effort_lte;\n    this.props.setFilter(newFilter);\n  }\n\n  clearFilter() {\n    this.props.setFilter({});\n  }\n\n  resetFilter() {\n    this.setState({\n      status: this.props.initFilter.status || '',\n      effort_gte: this.props.initFilter.effort_gte || '',\n      effort_lte: this.props.initFilter.effort_lte || '',\n      changed: false,\n    });\n  }\n\n  render() {\n    return (\n      <Row>\n        <Col xs={6} sm={4} md={3} lg={2}>\n          <FormGroup>\n            <ControlLabel>Status</ControlLabel>\n            <FormControl\n              componentClass=\"select\" value={this.state.status}\n              onChange={this.onChangeStatus}\n            >\n              <option value=\"\">(Any)</option>\n              <option value=\"New\">New</option>\n              <option value=\"Open\">Open</option>\n              <option value=\"Assigned\">Assigned</option>\n              <option value=\"Fixed\">Fixed</option>\n              <option value=\"Verified\">Verified</option>\n              <option value=\"Closed\">Closed</option>\n            </FormControl>\n          </FormGroup>\n        </Col>\n        <Col xs={6} sm={4} md={3} lg={2}>\n          <FormGroup>\n            <ControlLabel>Effort</ControlLabel>\n            <InputGroup>\n              <FormControl value={this.state.effort_gte} onChange={this.onChangeEffortGte} />\n              <InputGroup.Addon>-</InputGroup.Addon>\n              <FormControl value={this.state.effort_lte} onChange={this.onChangeEffortLte} />\n            </InputGroup>\n          </FormGroup>\n        </Col>\n        <Col xs={6} sm={4} md={3} lg={2}>\n          <FormGroup>\n            <ControlLabel>&nbsp;</ControlLabel>\n            <ButtonToolbar>\n              <Button bsStyle=\"primary\" onClick={this.applyFilter}>Apply</Button>\n              <Button onClick={this.resetFilter} disabled={!this.state.changed}>Reset</Button>\n              <Button onClick={this.clearFilter}>Clear</Button>\n            </ButtonToolbar>\n          </FormGroup>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nDeviceFilter.propTypes = {\n  setFilter: React.PropTypes.func.isRequired,\n  initFilter: React.PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/DeviceFilter.jsx","import React from 'react';\nimport { FormGroup, FormControl, ControlLabel, ButtonToolbar, Button,\n  Panel, Form, Col, Alert } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport NumInput from './NumInput.jsx';\n\nimport DateInput from './DateInput.jsx';\nimport Toast from './Toast.jsx';\n\nexport default class DeviceEdit extends React.Component {\n  static dataFetcher({ params, urlBase }) {\n    return fetch(`${urlBase || ''}/api/devices/${params.id}`).then(response => {\n      if (!response.ok) return response.json().then(error => Promise.reject(error));\n      return response.json().then(data => ({ DeviceEdit: data }));\n    });\n  }\n\n  constructor(props, context) {\n    super(props, context);\n    let device;\n    if (context.initialState.DeviceEdit) {\n      device = context.initialState.DeviceEdit;\n      device.created = new Date(device.created);\n      device.completionDate = device.completionDate != null ?\n        new Date(device.completionDate) : null;\n    } else {\n      device = {\n        _id: '', title: '', status: '', owner: '', effort: null,\n        completionDate: null, created: null,\n      };\n    }\n    this.state = {\n      device,\n      invalidFields: {}, showingValidation: false,\n      toastVisible: false, toastMessage: '', toastType: 'success',\n    };\n    this.dismissValidation = this.dismissValidation.bind(this);\n    this.showValidation = this.showValidation.bind(this);\n    this.showSuccess = this.showSuccess.bind(this);\n    this.showError = this.showError.bind(this);\n    this.dismissToast = this.dismissToast.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.onValidityChange = this.onValidityChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.params.id !== this.props.params.id) {\n      this.loadData();\n    }\n  }\n\n  onChange(event, convertedValue) {\n    const device = Object.assign({}, this.state.device);\n    const value = (convertedValue !== undefined) ? convertedValue : event.target.value;\n    device[event.target.name] = value;\n    this.setState({ device });\n  }\n\n  onValidityChange(event, valid) {\n    const invalidFields = Object.assign({}, this.state.invalidFields);\n    if (!valid) {\n      invalidFields[event.target.name] = true;\n    } else {\n      delete invalidFields[event.target.name];\n    }\n    this.setState({ invalidFields });\n  }\n\n  onSubmit(event) {\n    event.preventDefault();\n    this.showValidation();\n\n    if (Object.keys(this.state.invalidFields).length !== 0) {\n      return;\n    }\n\n    fetch(`/api/devices/${this.props.params.id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(this.state.device),\n    }).then(response => {\n      if (response.ok) {\n        response.json().then(updatedDevice => {\n          updatedDevice.created = new Date(updatedDevice.created);\n          if (updatedDevice.completionDate) {\n            updatedDevice.completionDate = new Date(updatedDevice.completionDate);\n          }\n          this.setState({ device: updatedDevice });\n          this.showSuccess('Updated device successfully.');\n        });\n      } else {\n        response.json().then(error => {\n          this.showError(`Failed to update device: ${error.message}`);\n        });\n      }\n    }).catch(err => {\n      this.showError(`Error in sending data to server: ${err.message}`);\n    });\n  }\n\n  loadData() {\n    DeviceEdit.dataFetcher({ params: this.props.params })\n    .then(data => {\n      const device = data.DeviceEdit;\n      device.created = new Date(device.created);\n      device.completionDate = device.completionDate != null ?\n        new Date(device.completionDate) : null;\n      this.setState({ device });\n    }).catch(err => {\n      this.showError(`Error in fetching data from server: ${err.message}`);\n    });\n  }\n\n  showValidation() {\n    this.setState({ showingValidation: true });\n  }\n\n  dismissValidation() {\n    this.setState({ showingValidation: false });\n  }\n\n  showSuccess(message) {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'success' });\n  }\n\n  showError(message) {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'danger' });\n  }\n\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n\n  render() {\n    const device = this.state.device;\n    let validationMessage = null;\n    if (Object.keys(this.state.invalidFields).length !== 0 && this.state.showingValidation) {\n      validationMessage = (\n        <Alert bsStyle=\"danger\" onDismiss={this.dismissValidation}>\n          Please correct invalid fields before submitting.\n        </Alert>\n      );\n    }\n    return (\n      <Panel header=\"Edit Device\">\n        <Form horizontal onSubmit={this.onSubmit}>\n          <FormGroup>\n            <Col componentClass={ControlLabel} sm={3}>ID</Col>\n            <Col sm={9}>\n              <FormControl.Static>{device._id}</FormControl.Static>\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col componentClass={ControlLabel} sm={3}>Created</Col>\n            <Col sm={9}>\n              <FormControl.Static>\n                {device.created ? device.created.toDateString() : ''}\n              </FormControl.Static>\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col componentClass={ControlLabel} sm={3}>Status</Col>\n            <Col sm={9}>\n              <FormControl\n                componentClass=\"select\" name=\"status\" value={device.status}\n                onChange={this.onChange}\n              >\n                <option value=\"New\">New</option>\n                <option value=\"Open\">Open</option>\n                <option value=\"Assigned\">Assigned</option>\n                <option value=\"Fixed\">Fixed</option>\n                <option value=\"Verified\">Verified</option>\n                <option value=\"Closed\">Closed</option>\n              </FormControl>\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col componentClass={ControlLabel} sm={3}>Owner</Col>\n            <Col sm={9}>\n              <FormControl name=\"owner\" value={device.owner} onChange={this.onChange} />\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col componentClass={ControlLabel} sm={3}>Effort</Col>\n            <Col sm={9}>\n              <FormControl\n                componentClass={NumInput} name=\"effort\"\n                value={device.effort} onChange={this.onChange}\n              />\n            </Col>\n          </FormGroup>\n          <FormGroup validationState={this.state.invalidFields.completionDate ? 'error' : null}>\n            <Col componentClass={ControlLabel} sm={3}>Completion Date</Col>\n            <Col sm={9}>\n              <FormControl\n                componentClass={DateInput} name=\"completionDate\"\n                value={device.completionDate} onChange={this.onChange}\n                onValidityChange={this.onValidityChange}\n              />\n              <FormControl.Feedback />\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col componentClass={ControlLabel} sm={3}>Title</Col>\n            <Col sm={9}>\n              <FormControl name=\"title\" value={device.title} onChange={this.onChange} />\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col smOffset={3} sm={6}>\n              <ButtonToolbar>\n                <Button bsStyle=\"primary\" type=\"submit\">Submit</Button>\n                <LinkContainer to=\"/devices\">\n                  <Button bsStyle=\"link\">Back</Button>\n                </LinkContainer>\n              </ButtonToolbar>\n            </Col>\n          </FormGroup>\n          <FormGroup>\n            <Col smOffset={3} sm={9}>{validationMessage}</Col>\n          </FormGroup>\n        </Form>\n        <Toast\n          showing={this.state.toastVisible} message={this.state.toastMessage}\n          onDismiss={this.dismissToast} bsStyle={this.state.toastType}\n        />\n      </Panel>\n    );\n  }\n}\n\nDeviceEdit.propTypes = {\n  params: React.PropTypes.object.isRequired,\n};\n\nDeviceEdit.contextTypes = {\n  initialState: React.PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/DeviceEdit.jsx","import React, {PropTypes} from 'react'\nimport {Responsive, WidthProvider} from 'react-grid-layout';\nimport lomap from 'lodash.map'\nimport loresult from 'lodash.result'\nimport lorange from 'lodash.range'\nimport lorandom from 'lodash.random'\nimport 'isomorphic-fetch';\nimport { Link } from 'react-router';\nimport { Button, Glyphicon, Table, Panel } from 'react-bootstrap';\n\nconst ResponsiveReactGridLayout = WidthProvider(Responsive);\n\nfunction generateLayout() {\n  return lomap( lorange(0, 25), function (item, i) {\n    var y = Math.ceil(Math.random() * 4) + 1;\n    return {\n      x: lorandom(0, 5) * 2 % 12,\n      y: Math.floor(i / 6) * y,\n      w: 2,\n      h: y,\n      i: i.toString(),\n      static: false,\n      sliderValue: 50\n    };\n  });\n}\n\nexport default class ControllerSetup extends React.Component {\n\n  constructor(props, context){\n    super(props, context);\n\t this.state = {\n      currentBreakpoint: 'lg',\n      compactType: 'vertical',\n      mounted: false,\n      layouts: {lg: this.props.initialLayout},\n    };\n this.onNewLayout = this.onNewLayout.bind(this);  \n}\n handleSliderChange (event)  {\n\n   // this.setState({sliderValue: event.target.value});\n   // console.log(event.target.id + ': ' + this.state.i + ' ' + this.state.sliderValue);\n  }\n  componentDidMount() {\n    this.setState({\n      mounted: true\n    })\n  }\n\n  generateDOM() {\n\n    const styles = {\n      background: \"#eee\"\n    }\n\nreturn lomap(this.state.layouts.lg, (l, i) => {\n      return (\n\t\t  \n<div style={styles} key={i} className={l.static ? 'static': ''}>\n          {\n            l.static ? \n              <span className=\"text\" title=\"This item is static and can't be removed or resized\">\n                static - {i}\n              </span> :\n              <span className=\"text\">{i}</span> \n          }\n<div id=\"slidecontainer\">\n                <input type=\"range\" min=\"1\" max=\"100\" value={this.state.sliderValue} className=\"slider\" id={i} ref={i} onChange={this.handleSliderChange}/>\n</div>\n        </div>\n      )\n    })\n  }\n\n  onBreakPointChange(breakpoint) {\n    this.setState({\n      currentBreakPoint: breakpoint\n    })\n  }\n\n  onLayoutChange(layout, layouts) {\n  console.log(layout, layouts);\n  }\n\n  onNewLayout() {\n    this.setState({\n      layouts: {\n        lg: generateLayout()\n      }\n    })\n  }\n\n  render() {\n  return (\n      <div>\n        <div>Current Breakpoint: {this.state.currentBreakpoint} ({this.props.cols[this.state.currentBreakpoint]} columns)\n        </div>\n        <button onClick={this.onNewLayout}>Randomize Layout</button>\n        <ResponsiveReactGridLayout\n          {...this.props}\n          layouts={this.state.layouts}\n          onBreakpointChange={this.onBreakpointChange}\n          onLayoutChange={this.onLayoutChange}\n \t  measureBeforeMount={false}\n    \t  useCSSTransforms={this.state.mounted}>\n          \t{this.generateDOM()}\n        </ResponsiveReactGridLayout>\n      </div>\n    )\n  }\n}\nControllerSetup.defaultProps = {\n    className: \"layout\",\n    isResizable: true,\n    rowHeight: 30,\n    onLayoutChange: function() {},\n    cols: {lg: 12, md: 10, sm: 6, xs: 4, xxs: 2},\n    initialLayout: generateLayout()\n}; \n\n\n\n// WEBPACK FOOTER //\n// ./src/ControllersSetup.jsx","module.exports = require(\"react-grid-layout\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-grid-layout\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"lodash.map\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash.map\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"lodash.result\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash.result\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"lodash.range\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash.range\"\n// module id = 37\n// module chunks = 0","module.exports = require(\"lodash.random\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash.random\"\n// module id = 38\n// module chunks = 0","import React from 'react';\nimport {Responsive, WidthProvider} from 'react-grid-layout';\nimport ReactDOM from 'react-dom'\nimport _ from \"lodash\";\nimport 'isomorphic-fetch';\nimport { Col, Row, FormGroup, FormControl, ControlLabel, Button, Table, Panel, Glyphicon } from 'react-bootstrap';\nimport FaLock from 'react-icons/lib/fa/lock';\nimport FaUnlock from 'react-icons/lib/fa/unlock';\nimport MdFileUpload from 'react-icons/lib/md/file-upload';\nimport MdFileDownload from 'react-icons/lib/md/file-download';\nimport MdEdit from 'react-icons/lib/md/edit';\nimport MdClose from 'react-icons/lib/md/close';\nimport Toast from './Toast.jsx';\nimport AddController from './AddController.jsx';\n\n\nconst ResponsiveReactGridLayout = WidthProvider(Responsive);\nlet lockIcon = <FaLock />;\n\nconst DeviceRow = (props) => {\n  return (\n      <option value={props.device.device_number}>{props.device.name}</option>\n  );\n};\n\nDeviceRow.propTypes = {\n  device: React.PropTypes.object.isRequired,\n};\n\nfunction DeviceTable(props) {\n  const deviceRows = props.devices.map(device =>\n    <DeviceRow key={device._id} device={device} />\n  );\n  return (\n      \t<FormControl componentClass=\"select\"\n              onChange={props.onDeviceSelect}>\n\t\t{deviceRows}\n\t</FormControl>\n  );\n}\n\nDeviceTable.propTypes = {\n  devices: React.PropTypes.array.isRequired,\n  onDeviceSelect: React.PropTypes.func.isRequired,\n  };\n\nexport default class NewControllers extends React.Component {\n\n  static dataFetcher({ urlBase, location }) {\n    return fetch(`${urlBase || ''}/api/devices${location.search}`).then(response => {\n      if (!response.ok) return response.json().then(error => Promise.reject(error));\n      return response.json().then(data => ({ NewControllers: data }));\n    });\n  }\n\n  constructor(props, context){\n    super(props, context);\n    const devices = context.initialState.NewControllers ? context.initialState.NewControllers.records : [];\n    this.state = {\n      devices,\n      toastVisible: false,\n      toastMessage: '',\n      toastType: 'success',\n      items: [].map(function(i, key, list) {\n        return {\n          type: 0,\n          i: i.toString(),\n          x: i * 2,\n          y: 0,\n          w: 2,\n          h: 2,\n          add: i === (list.length - 1).toString(),\n\t  sliderValue: 0,\n        };\n      }),\n      buttonCounter: 0, \n      sliderCounter: 0,\n      xyCounter: 0,\n      lock: true,\n  };\n  this.onAddButton = this.onAddButton.bind(this);\n  this.onAddSlider = this.onAddSlider.bind(this);\n  this.onAddXY = this.onAddXY.bind(this);\n  this.onBreakpointChange = this.onBreakpointChange.bind(this);\n  this.onEditItem = this.onEditItem.bind(this);\n  this.handleSliderChange = this.handleSliderChange.bind(this);\n  this.handleOnLock = this.handleOnLock.bind(this);\n  this.handleOnDownload = this.handleOnDownload.bind(this);\n  this.handleOnUpload = this.handleOnUpload.bind(this);\n  this.showError = this.showError.bind(this);\n  this.dismissToast = this.dismissToast.bind(this); \n}\ncomponentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const oldQuery = prevProps.location.query;\n    const newQuery = this.props.location.query;\n    if (oldQuery.status === newQuery.status\n        && oldQuery.effort_gte === newQuery.effort_gte\n        && oldQuery.effort_lte === newQuery.effort_lte) {\n      return;\n    }\n    this.loadData();\n  }\n showError(message) {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'danger' });\n  }\n\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n\n  loadData() {\n    NewControllers.dataFetcher({ location: this.props.location })\n    .then(data => {\n      const devices = data.NewControllers.records;\n      devices.forEach(device => {\n        device.created = new Date(device.created);\n        if (device.completionDate) {\n          device.completionDate = new Date(device.completionDate);\n        }\n      });\n      this.setState({ devices });\n    }).catch(err => {\n      this.showError(`Error in fetching data from server: ${err}`);\n    });\n  }\n\n handleSliderChange (event)  { //not updating correct object\n    this.setState({sliderValue: event.target.value});\n    console.log(event.target.id + ': ' + this.state.sliderValue);\n }\n handleOnLock(){\n   if (this.state.lock == true) {\n\tlockIcon = <FaUnlock />;\n  \tthis.setState({lock: false}); \n   } else { \n\tlockIcon = <FaLock />;\n  \tthis.setState({lock: true});\n   } \n }\n handleOnDownload(){\n   console.log(\"download file with data to be loaded again later \");\n }\n handleOnUpload(){\n   console.log(\"upload previously saved file to use\");\n }\n createElement(el) {\n    const removeStyle = {\n      position: \"absolute\",\n      right: \"2px\",\n      top: 0,\n      cursor: \"pointer\"\n    };\n   const editStyle = {\n     position: \"absolute\",\n     right: \"2px\",\n     bottom: 0,\n     cursor: \"pointer\"\n   };\n   let lockStyle = {\n     display: \"none\",\n   };\n   if (this.state.lock==false){\n\tlockStyle = {\n\t\tposition: \"absolute\",\n\t\tright: \"2px\",\n\t\ttop: 0,\n\t\tcursor: \"pointer\",\n    \t\tdisplay: \"inline\",\n\t};\n   }\n   const gridStyle = {\n      background: \"#EEE\"\n    };\n    const i = el.add ? \"+\" : el.i;\n    let typeCode = <button>{i}</button>;\n    if (el.type==1) { //type is slider\n      typeCode = <div> <span className=\"text\">{i}</span>\n                <div id=\"slidecontainer\">\n                <input type=\"range\" min=\"1\" max=\"100\" value={el.sliderValue} id={i} className=\"slider\" onChange={this.handleSliderChange}/></div>\n    \t\t</div>;\n    }\n    else if (el.type==2) { //type is xy area\n       typeCode = <span className=\"text\">{i}</span>;\n    }\n\treturn (\n     \t\t<div key={i} data-grid={el} style={gridStyle}>\n\t\t{typeCode}\n      \t\t<span style={lockStyle}>\n\t\t\t<span className=\"edit\"\n                        onClick={this.onEditItem.bind(this, i)}>\n                        <MdEdit />\n                </span>\n\t\t<span className=\"remove\"\n                        onClick={this.onRemoveItem.bind(this, i)}>\n                        <MdClose />\n                </span></span>\n\t\t</div>\n    \t);\n}\n\n  onAddButton() {\n\n\t console.log(\"adding \", \"button \" + this.state.buttonCounter);\n    this.setState({\n items: this.state.items.concat({\n        type: 0,\n\ti: \"button-\" + this.state.buttonCounter,\n        x: (this.state.items.length * 2) % (this.state.cols || 12),\n        y: Infinity, \n        w: 2,\n        h: 2,\n      }),\n buttonCounter: this.state.buttonCounter + 1\n    });\n  }\nonAddSlider() {\n    console.log(\"adding \", \"slider \" + this.state.sliderCounter);\n    this.setState({\n items: this.state.items.concat({\n        type: 1,\n\ti: \"slider-\" + this.state.sliderCounter,\n        x: (this.state.items.length * 2) % (this.state.cols || 12),\n        y: Infinity,\n        w: 2,\n        h: 2,\n      }),\n sliderCounter: this.state.sliderCounter + 1\n    });\n  }\nonAddXY() {\n    console.log(\"adding \", \"xy \" + this.state.xyCounter);\n    this.setState({\n items: this.state.items.concat({\n\ttype: 2,\n        i: \"xy-\" + this.state.xyCounter,\n        x: (this.state.items.length * 2) % (this.state.cols || 12),\n        y: Infinity,\n        w: 2,\n        h: 2,\n      }),\n xyCounter: this.state.xyCounter + 1\n    });\n  }\nonBreakpointChange(breakpoint, cols) {\n    this.setState({\n      breakpoint: breakpoint,\n      cols: cols\n    });\n  }\n onLayoutChange(layout) {\n    console.log(\"layout:\", layout);\n }\n onRemoveItem(i) {\n    console.log(\"removing\", i);\n    this.setState({ items: _.reject(this.state.items, { i: i }) });\n  }\n onEditItem(i) {\n   console.log(\"edit item: \" + i);\n } \nrender() {\n  return (\n      <div>\n \t<Row>\n          <Col xs={6} sm={3} md={2} lg={1}>\n\t<AddController />\n\t <DeviceTable devices={this.state.devices} onDeviceSelect={this.onAddButton} />\n\t <Toast\n          showing={this.state.toastVisible} message={this.state.toastMessage}\n          onDismiss={this.dismissToast} bsStyle={this.state.toastType}\n        />\n  \t  </Col>\n\t  <Col xs={6} sm={3} md={2} lg={1}>\n      \t    <button onClick={this.onAddSlider}>Add Slider</button>\n\t    <button onClick={this.onAddXY}>Add X/Y Area</button>\n\t</Col>\n          <Col xs={6} sm={3} md={2} lg={1}>\n \t</Col>\n\t  <Col xs={6} sm={3} md={2} lg={1}>\n\t    <button className=\"pull-right\" onClick={this.handleOnLock}>{lockIcon}</button>\n\t    <button className=\"pull-right\" onClick={this.handleOnDownload}><MdFileDownload /></button>\n\t    <button className=\"pull-right\" onClick={this.handleOnUpload}><MdFileUpload /></button>\n\t  </Col>\n\t</Row>\n\t<ResponsiveReactGridLayout\n          onBreakpointChange={this.onBreakpointChange}\n          onLayoutChange={this.onLayoutChange}\n\t  isDraggable={!this.state.lock}\n\tisResizable={!this.state.lock}  \n\t{...this.props}\n\t>\n  \t {_.map(this.state.items, el => this.createElement(el))}\n       </ResponsiveReactGridLayout>\n     </div>\n    );\n  }\n}\nNewControllers.defaultProps = {\n    className: \"layout\",\n    rowHeight: 30,\n    cols: {lg: 12, md: 10, sm: 6, xs: 4, xxs: 2},\n};\nNewControllers.propTypes = {\n  location: React.PropTypes.object.isRequired,\n  router: React.PropTypes.object,\n};\n\nNewControllers.contextTypes = {\n  initialState: React.PropTypes.object,\n}; \n\n\n\n// WEBPACK FOOTER //\n// ./src/NewControllers.jsx","module.exports = require(\"react-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 41\n// module chunks = 0","module.exports = require(\"react-icons/lib/fa/lock\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-icons/lib/fa/lock\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"react-icons/lib/fa/unlock\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-icons/lib/fa/unlock\"\n// module id = 43\n// module chunks = 0","module.exports = require(\"react-icons/lib/md/file-upload\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-icons/lib/md/file-upload\"\n// module id = 44\n// module chunks = 0","module.exports = require(\"react-icons/lib/md/file-download\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-icons/lib/md/file-download\"\n// module id = 45\n// module chunks = 0","module.exports = require(\"react-icons/lib/md/edit\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-icons/lib/md/edit\"\n// module id = 46\n// module chunks = 0","module.exports = require(\"react-icons/lib/md/close\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-icons/lib/md/close\"\n// module id = 47\n// module chunks = 0","import React from 'react';\nimport { withRouter } from 'react-router';\nimport { NavItem, Glyphicon, Modal, Form, FormGroup, FormControl, ControlLabel,\n  Button, ButtonToolbar } from 'react-bootstrap';\n\nimport Toast from './Toast.jsx';\n\nclass AddController extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showing: false,\n      toastVisible: false, toastMessage: '', toastType: 'success',\n    };\n    this.showModal = this.showModal.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n    this.submit = this.submit.bind(this);\n    this.showError = this.showError.bind(this);\n    this.dismissToast = this.dismissToast.bind(this);\n  }\n\n  showModal() {\n    this.setState({ showing: true });\n  }\n\n  hideModal() {\n    this.setState({ showing: false });\n  }\n\n  showError(message) {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'danger' });\n  }\n\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n\n  submit(e) {\n    e.preventDefault();\n    this.hideModal();\n    const form = document.forms.issueAdd;\n    const newIssue = {\n      owner: form.owner.value, title: form.title.value,\n      status: 'New', created: new Date(),\n    };\n    fetch('/api/issues', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(newIssue),\n    }).then(response => {\n      if (response.ok) {\n        response.json().then(updatedIssue => {\n          this.props.router.push(`/issues/${updatedIssue._id}`);\n        });\n      } else {\n        response.json().then(error => {\n          this.showError(`Failed to add issue: ${error.message}`);\n        });\n      }\n    }).catch(err => {\n      this.showError(`Error in sending data to server: ${err.message}`);\n    });\n  }\n\n  render() {\n    return (\n      <span onClick={this.showModal}><Glyphicon glyph=\"plus\" /> Add Controller\n        <Modal keyboard show={this.state.showing} onHide={this.hideModal}>\n          <Modal.Header closeButton>\n            <Modal.Title>Add Controller</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form name=\"issueAdd\">\n              <FormGroup>\n                <ControlLabel>Label</ControlLabel>\n                <FormControl name=\"title\" autoFocus />\n              </FormGroup>\n              <FormGroup>\n                <ControlLabel>Type</ControlLabel>\n                <FormControl name=\"owner\" />\n              </FormGroup>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <ButtonToolbar>\n              <Button type=\"button\" bsStyle=\"primary\" onClick={this.submit}>Submit</Button>\n              <Button bsStyle=\"link\" onClick={this.hideModal}>Cancel</Button>\n            </ButtonToolbar>\n          </Modal.Footer>\n        </Modal>\n        <Toast\n          showing={this.state.toastVisible} message={this.state.toastMessage}\n          onDismiss={this.dismissToast} bsStyle={this.state.toastType}\n        />\n      </span>\n    );\n  }\n}\n\nAddController.propTypes = {\n  router: React.PropTypes.object,\n};\n\nexport default withRouter(AddController);\n\n\n\n// WEBPACK FOOTER //\n// ./src/AddController.jsx","import React from 'react';\nimport {Responsive, WidthProvider} from 'react-grid-layout';\nimport ReactDOM from 'react-dom'\nimport _ from \"lodash\";\nimport 'isomorphic-fetch';\nimport { Col, Row, FormGroup, FormControl, ControlLabel, Button, Table, Panel, Glyphicon } from 'react-bootstrap';\nimport FaLock from 'react-icons/lib/fa/lock';\nimport FaUnlock from 'react-icons/lib/fa/unlock';\nimport MdFileUpload from 'react-icons/lib/md/file-upload';\nimport MdFileDownload from 'react-icons/lib/md/file-download';\nimport MdEdit from 'react-icons/lib/md/edit';\nimport MdClose from 'react-icons/lib/md/close';\nimport Toast from './Toast.jsx';\nimport AddController from './AddController.jsx';\n\n\nconst ResponsiveReactGridLayout = WidthProvider(Responsive);\nlet lockIcon = <FaLock />;\n\nconst DeviceRow = (props) => {\n  return (\n      <option value={props.device.device_number}>{props.device.name}</option>\n  );\n};\n\nDeviceRow.propTypes = {\n  device: React.PropTypes.object.isRequired,\n};\n\nfunction DeviceTable(props) {\n  const deviceRows = props.devices.map(device =>\n    <DeviceRow key={device._id} device={device} />\n  );\n  return (\n      \t<FormControl componentClass=\"select\"\n              onChange={props.onDeviceSelect}>\n\t\t{deviceRows}\n\t</FormControl>\n  );\n}\n\nDeviceTable.propTypes = {\n  devices: React.PropTypes.array.isRequired,\n  onDeviceSelect: React.PropTypes.func.isRequired,\n  };\n\nexport default class DeviceMenu extends React.Component {\n\n  static dataFetcher({ urlBase, location }) {\n    return fetch(`${urlBase || ''}/api/devices${location.search}`).then(response => {\n      if (!response.ok) return response.json().then(error => Promise.reject(error));\n      return response.json().then(data => ({ DeviceMenu: data }));\n    });\n  }\n\n  constructor(props, context){\n    super(props, context);\n    const devices = context.initialState.DeviceMenu ? context.initialState.DeviceMenu.records : [];\n    this.state = {\n      devices,\n      toastVisible: false,\n      toastMessage: '',\n      toastType: 'success',\n      items: [].map(function(i, key, list) {\n        return {\n          type: 0,\n          i: i.toString(),\n          x: i * 2,\n          y: 0,\n          w: 2,\n          h: 2,\n          add: i === (list.length - 1).toString(),\n\t  sliderValue: 0,\n        };\n      }),\n      buttonCounter: 0, \n      sliderCounter: 0,\n      xyCounter: 0,\n      lock: true,\n  };\n  this.onAddButton = this.onAddButton.bind(this);\n  this.onAddSlider = this.onAddSlider.bind(this);\n  this.onAddXY = this.onAddXY.bind(this);\n  this.onBreakpointChange = this.onBreakpointChange.bind(this);\n  this.onEditItem = this.onEditItem.bind(this);\n  this.handleSliderChange = this.handleSliderChange.bind(this);\n  this.handleOnLock = this.handleOnLock.bind(this);\n  this.handleOnDownload = this.handleOnDownload.bind(this);\n  this.handleOnUpload = this.handleOnUpload.bind(this);\n  this.showError = this.showError.bind(this);\n  this.dismissToast = this.dismissToast.bind(this); \n}\ncomponentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const oldQuery = prevProps.location.query;\n    const newQuery = this.props.location.query;\n    if (oldQuery.status === newQuery.status\n        && oldQuery.effort_gte === newQuery.effort_gte\n        && oldQuery.effort_lte === newQuery.effort_lte) {\n      return;\n    }\n    this.loadData();\n  }\n showError(message) {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'danger' });\n  }\n\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n\n  loadData() {\n    DeviceMenu.dataFetcher({ location: this.props.location })\n    .then(data => {\n      const devices = data.DeviceMenu.records;\n      devices.forEach(device => {\n        device.created = new Date(device.created);\n        if (device.completionDate) {\n          device.completionDate = new Date(device.completionDate);\n        }\n      });\n      this.setState({ devices });\n    }).catch(err => {\n      this.showError(`Error in fetching data from server: ${err}`);\n    });\n  }\n\n handleSliderChange (event)  { //not updating correct object\n    this.setState({sliderValue: event.target.value});\n    console.log(event.target.id + ': ' + this.state.sliderValue);\n }\n handleOnLock(){\n   if (this.state.lock == true) {\n\tlockIcon = <FaUnlock />;\n  \tthis.setState({lock: false}); \n   } else { \n\tlockIcon = <FaLock />;\n  \tthis.setState({lock: true});\n   } \n }\n handleOnDownload(){\n   console.log(\"download file with data to be loaded again later \");\n }\n handleOnUpload(){\n   console.log(\"upload previously saved file to use\");\n }\n createElement(el) {\n    const removeStyle = {\n      position: \"absolute\",\n      right: \"2px\",\n      top: 0,\n      cursor: \"pointer\"\n    };\n   const editStyle = {\n     position: \"absolute\",\n     right: \"2px\",\n     bottom: 0,\n     cursor: \"pointer\"\n   };\n   let lockStyle = {\n     display: \"none\",\n   };\n   if (this.state.lock==false){\n\tlockStyle = {\n\t\tposition: \"absolute\",\n\t\tright: \"2px\",\n\t\ttop: 0,\n\t\tcursor: \"pointer\",\n    \t\tdisplay: \"inline\",\n\t};\n   }\n   const gridStyle = {\n      background: \"#EEE\"\n    };\n    const i = el.add ? \"+\" : el.i;\n    let typeCode = <button>{i}</button>;\n    if (el.type==1) { //type is slider\n      typeCode = <div> <span className=\"text\">{i}</span>\n                <div id=\"slidecontainer\">\n                <input type=\"range\" min=\"1\" max=\"100\" value={el.sliderValue} id={i} className=\"slider\" onChange={this.handleSliderChange}/></div>\n    \t\t</div>;\n    }\n    else if (el.type==2) { //type is xy area\n       typeCode = <span className=\"text\">{i}</span>;\n    }\n\treturn (\n     \t\t<div key={i} data-grid={el} style={gridStyle}>\n\t\t{typeCode}\n      \t\t<span style={lockStyle}>\n\t\t\t<span className=\"edit\"\n                        onClick={this.onEditItem.bind(this, i)}>\n                        <MdEdit />\n                </span>\n\t\t<span className=\"remove\"\n                        onClick={this.onRemoveItem.bind(this, i)}>\n                        <MdClose />\n                </span></span>\n\t\t</div>\n    \t);\n}\n\n  onAddButton() {\n\n\t console.log(\"adding \", \"button \" + this.state.buttonCounter);\n    this.setState({\n items: this.state.items.concat({\n        type: 0,\n\ti: \"button-\" + this.state.buttonCounter,\n        x: (this.state.items.length * 2) % (this.state.cols || 12),\n        y: Infinity, \n        w: 2,\n        h: 2,\n      }),\n buttonCounter: this.state.buttonCounter + 1\n    });\n  }\nonAddSlider() {\n    console.log(\"adding \", \"slider \" + this.state.sliderCounter);\n    this.setState({\n items: this.state.items.concat({\n        type: 1,\n\ti: \"slider-\" + this.state.sliderCounter,\n        x: (this.state.items.length * 2) % (this.state.cols || 12),\n        y: Infinity,\n        w: 2,\n        h: 2,\n      }),\n sliderCounter: this.state.sliderCounter + 1\n    });\n  }\nonAddXY() {\n    console.log(\"adding \", \"xy \" + this.state.xyCounter);\n    this.setState({\n items: this.state.items.concat({\n\ttype: 2,\n        i: \"xy-\" + this.state.xyCounter,\n        x: (this.state.items.length * 2) % (this.state.cols || 12),\n        y: Infinity,\n        w: 2,\n        h: 2,\n      }),\n xyCounter: this.state.xyCounter + 1\n    });\n  }\nonBreakpointChange(breakpoint, cols) {\n    this.setState({\n      breakpoint: breakpoint,\n      cols: cols\n    });\n  }\n onLayoutChange(layout) {\n    console.log(\"layout:\", layout);\n }\n onRemoveItem(i) {\n    console.log(\"removing\", i);\n    this.setState({ items: _.reject(this.state.items, { i: i }) });\n  }\n onEditItem(i) {\n   console.log(\"edit item: \" + i);\n } \nrender() {\n  return (\n      <div>\n \t<Row>\n          <Col xs={6} sm={3} md={2} lg={1}>\n\t<AddController />\n\t <DeviceTable devices={this.state.devices} onDeviceSelect={this.onAddButton} />\n\t <Toast\n          showing={this.state.toastVisible} message={this.state.toastMessage}\n          onDismiss={this.dismissToast} bsStyle={this.state.toastType}\n        />\n  \t  </Col>\n\t  <Col xs={6} sm={3} md={2} lg={1}>\n      \t    <button onClick={this.onAddSlider}>Add Slider</button>\n\t    <button onClick={this.onAddXY}>Add X/Y Area</button>\n\t</Col>\n          <Col xs={6} sm={3} md={2} lg={1}>\n \t</Col>\n\t  <Col xs={6} sm={3} md={2} lg={1}>\n\t    <button className=\"pull-right\" onClick={this.handleOnLock}>{lockIcon}</button>\n\t    <button className=\"pull-right\" onClick={this.handleOnDownload}><MdFileDownload /></button>\n\t    <button className=\"pull-right\" onClick={this.handleOnUpload}><MdFileUpload /></button>\n\t  </Col>\n\t</Row>\n\t<ResponsiveReactGridLayout\n          onBreakpointChange={this.onBreakpointChange}\n          onLayoutChange={this.onLayoutChange}\n\t  isDraggable={!this.state.lock}\n\tisResizable={!this.state.lock}  \n\t{...this.props}\n\t>\n  \t {_.map(this.state.items, el => this.createElement(el))}\n       </ResponsiveReactGridLayout>\n     </div>\n    );\n  }\n}\nDeviceMenu.defaultProps = {\n    className: \"layout\",\n    rowHeight: 30,\n    cols: {lg: 12, md: 10, sm: 6, xs: 4, xxs: 2},\n};\nDeviceMenu.propTypes = {\n  location: React.PropTypes.object.isRequired,\n  router: React.PropTypes.object,\n};\n\nDeviceMenu.contextTypes = {\n  initialState: React.PropTypes.object,\n}; \n\n\n\n// WEBPACK FOOTER //\n// ./src/DeviceMenu.jsx","import React from 'react';\nimport 'isomorphic-fetch';\nimport { Link } from 'react-router';\nimport { Button, Glyphicon, Table, Panel } from 'react-bootstrap';\nimport { SocketProvider } from 'socket.io-react';\nconst {string, bool, object} = React.PropTypes;\nimport SocketIOClient from 'socket.io-client';\n//const socket = SocketIOClient('http://localhost:3000');\nlet socket;\n\nexport default class Diagnostics extends React.Component {\n \nconstructor(props){\n    \tsuper(props);\n\tthis.state = {\n\t\ttext: '',\n\t}\n    \t//this.sendSocketData = this.sendSocketData.bind(this); \n}\ncomponentDidMount() {\n\tsocket = SocketIOClient();\n\tsocket.on(this.props.location.pathname, (mesg) => {\n\t\tthis.setState({text: mesg});\n\t});\n}\ncomponentWillUnmount() {\n\tsocket.off(this.props.page);\n}\nsendSocketData() {\n  console.log(\"socket button pressed\");\n  socket.emit('diagnostics-button', 'Hello world!');\n}\n render() {\n  return (\n<div><div>{this.state.text}</div>\n  <Button onClick={this.sendSocketData}>Send Socket Data</Button>\n</div>\n\t);\n  };\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/Diagnostics.jsx","module.exports = require(\"socket.io-react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"socket.io-react\"\n// module id = 51\n// module chunks = 0","module.exports = require(\"socket.io-client\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"socket.io-client\"\n// module id = 52\n// module chunks = 0","import React from 'react';\nimport 'isomorphic-fetch';\nimport { Link } from 'react-router';\nimport { Button, Glyphicon, Table, Panel } from 'react-bootstrap';\n\nexport default class Help extends React.Component {\n render() {\n  return (\n  <div>Help HTML here\t</div>\n\t);\n};\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Help.jsx","import React from 'react';\n\nexport default class ContextWrapper extends React.Component {\n  getChildContext() {\n    return { initialState: this.props.initialState };\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nContextWrapper.childContextTypes = {\n  initialState: React.PropTypes.object,\n};\n\nContextWrapper.propTypes = {\n  children: React.PropTypes.object.isRequired,\n  initialState: React.PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ContextWrapper.jsx","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n/*globals __resourceQuery */\r\nif(module.hot) {\r\n\tvar hotPollInterval = +(__resourceQuery.substr(1)) || (10 * 60 * 1000);\r\n\r\n\tfunction checkForUpdate(fromUpdate) {\r\n\t\tif(module.hot.status() === \"idle\") {\r\n\t\t\tmodule.hot.check(true, function(err, updatedModules) {\r\n\t\t\t\tif(err) {\r\n\t\t\t\t\tif(module.hot.status() in {\r\n\t\t\t\t\t\t\tabort: 1,\r\n\t\t\t\t\t\t\tfail: 1\r\n\t\t\t\t\t\t}) {\r\n\t\t\t\t\t\tconsole.warn(\"[HMR] Cannot apply update.\");\r\n\t\t\t\t\t\tconsole.warn(\"[HMR] \" + err.stack || err.message);\r\n\t\t\t\t\t\tconsole.warn(\"[HMR] You need to restart the application!\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.warn(\"[HMR] Update failed: \" + err.stack || err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(!updatedModules) {\r\n\t\t\t\t\tif(fromUpdate) console.log(\"[HMR] Update applied.\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\trequire(\"./log-apply-result\")(updatedModules, updatedModules);\r\n\t\t\t\tcheckForUpdate(true);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tsetInterval(checkForUpdate, hotPollInterval);\r\n} else {\r\n\tthrow new Error(\"[HMR] Hot Module Replacement is disabled.\");\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/hot/poll.js?1000\n// module id = 55\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nmodule.exports = function(updatedModules, renewedModules) {\r\n\tvar unacceptedModules = updatedModules.filter(function(moduleId) {\r\n\t\treturn renewedModules && renewedModules.indexOf(moduleId) < 0;\r\n\t});\r\n\r\n\tif(unacceptedModules.length > 0) {\r\n\t\tconsole.warn(\"[HMR] The following modules couldn't be hot updated: (They would need a full reload!)\");\r\n\t\tunacceptedModules.forEach(function(moduleId) {\r\n\t\t\tconsole.warn(\"[HMR]  - \" + moduleId);\r\n\t\t});\r\n\t}\r\n\r\n\tif(!renewedModules || renewedModules.length === 0) {\r\n\t\tconsole.log(\"[HMR] Nothing hot updated.\");\r\n\t} else {\r\n\t\tconsole.log(\"[HMR] Updated modules:\");\r\n\t\trenewedModules.forEach(function(moduleId) {\r\n\t\t\tconsole.log(\"[HMR]  - \" + moduleId);\r\n\t\t});\r\n\t}\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/hot/log-apply-result.js\n// module id = 56\n// module chunks = 0"],"sourceRoot":""}